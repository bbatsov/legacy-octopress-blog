
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>(think)</title>
  <meta name="author" content="Bozhidar Batsov">

  
  <meta name="description" content="Prelude This is the second post from my series dedicated to modern programming
languages for the Java platform. Last time we&rsquo;ve discussed the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://batsov.com/articles/page/21">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="(think)" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-22917580-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">(think)</a></h1>
  
    <h2>An online novel about the Source, the Force, the real life and everything in between...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:batsov.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Articles</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about/">About Bozhidar</a></li>
  <li><a href="/colophon/">Colophon</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/articles/2011/05/08/jvm-langs-scala/">Java.next() - Scala: The Revenge of the Static Typing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-08T00:00:00+03:00" pubdate data-updated="true">May 8<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Prelude</h2>

<p>This is the second post from my series dedicated to modern programming
languages for the Java platform. Last time we&rsquo;ve discussed the
<a href="/Java/Groovy/2011/05/06/jvm-langs-groovy.html">Groovy programming language</a>, which
is a member of the ever expanding family of dynamic programming
languages. The Scala programming language, that is the object of
today&rsquo;s discussion, is different beast entirely &ndash; not only it uses static
typing(like Java &amp; C# amongst others), but it also puts a heavy emphasis on the type
system, functional and parallel programming.</p>

<p>In theory Scala runs both on the JVM and on the CLR(the .NET VM). The
Java port, however, receives a lot more attention by Scala&rsquo;s developers
and it probably accounts for close of to all of Scala&rsquo;s
deployments(especially in production).</p>

<p>This article is extremely hard to write for me. Unlike Groovy, I&rsquo;m
deeply familiar with the language and would like to share quite a lot
with you. For obvious reasons I cannot go into much detail (otherwise
I&rsquo;d have written an on-line book). You&rsquo;re encourage to follow up this
article by reading some of the excellent resources, mentioned near its end.</p>

<h2>A brief history of Scala</h2>

<p>After having written hundreds of thousands lines of Java himself,
Martin Odersky, Professor at EPFL, was well aware of the frustrations
faced by Java programmers. He formed the vision of applying the best
knowledge of the academic research community to the problem of making
the Java programming experience better, even fun. His first pragmatic
step was Java Generics, seen as a major success by the Java
community (though we should mention that it was C# that first brought
generic programming to the masses). But for the full vision of scalable concurrent programming
to be achieved he saw that the basic Java syntax would need to
change. You simply couldn&rsquo;t get there from here. But a deceptively
simple shift in syntax gained better uniformity to the object-oriented
aspects of Java, and this in turn enabled a natural fusion with
functional programming concepts which are critical for tackling
concurrency. In 2001 Scala was born. The first official version was
released in late 2003. This year it celebrates its first
anniversary in a way (depending on what do you consider the birthday).</p>

<p>Scala stands for a SCAlable LAnguage. What does this mean? Scala is
designed to tackle solutions of wildly varying sizes &ndash; from small
scripts (programming in the small) to massive distributed enterprise
applications (generally programming in the large). Scala also means
<em>steps</em> in Italian and this is the reason why most Scala books have
some form of steps on their covers (arguably this is the reason why
Scala is very popular in Italy and particularly in Milan).</p>

<p>The current production version of Scala is 2.8.1 with 2.9.0 being in
the release candidate stages.</p>

<h2>Installing Scala</h2>

<h4>Universal installer</h4>

<p>Scala has an <a href="http://www.scala-lang.org/downloads/distrib/files/scala-2.8.1.final-installer.jar">universal installer</a> that could be ran on every platform
with Java installed. You can run it from the console like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>java -jar scala-2.8.1.final-installer.jar
</span></code></pre></td></tr></table></div></figure>


<p>Alternatively, on most systems simply double clicking the installer
jar will run it(assuming you have a GUI environment and assuming that
the java command is associated with jar files &ndash; something that is
usually so by default).</p>

<h4>Installing from binary archive</h4>

<p>Just download the Scala distribution for <a href="http://www.scala-lang.org/downloads/distrib/files/scala-2.8.1.final.tgz">Unix, OS X and Cygwin</a> or
the one for
<a href="http://www.scala-lang.org/downloads/distrib/files/scala-2.8.1.final.zip">Windows</a>
and extract it somewhere. I&rsquo;m a GNU/Linux user and I tend to extract
all third party apps in the /opt folder:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo tar xf scala-2.8.1.final.tgz -C /opt
</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;d also want to add the folder containing the Scala binaries
(compiler, REPL, etc) to your PATH environmental variable. Unix users
might add something like this to their shell startup script (like
.bashrc):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/java/latest
</span><span class='line'><span class="nb">export </span><span class="nv">SCALA_HOME</span><span class="o">=</span>/opt/scala-2.8.1
</span><span class='line'><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$SCALA_HOME</span>/bin:<span class="nv">$PATH</span>
</span></code></pre></td></tr></table></div></figure>


<p>You should now have Scala installed properly. You can test this by
typing the following in a command shell:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>scala
</span></code></pre></td></tr></table></div></figure>


<p>Which should create an interactive Scala shell where you can type
Scala expressions.</p>

<p>To run a specific Scala script type:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>scala SomeScript.scala
</span></code></pre></td></tr></table></div></figure>


<h4>Linux installation</h4>

<p>Most Linux distributions provide Scala through their integrated
package management system. On Debian(and derivatives like Ubuntu) you
can install it like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo apt-get install scala
</span></code></pre></td></tr></table></div></figure>


<p>On Red Hat systems the magic incantation looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo yum install scala
</span></code></pre></td></tr></table></div></figure>


<p>Personally I&rsquo;d prefer the platform-independent installation method,
since some distribution package Scala in a non-standard manner, which
confuses IDEs for instance.</p>

<h2>Scala at a glance</h2>

<blockquote><p>If I were to pick a language to use today other than Java, it would<br/>be Scala&#8230;</p><footer><strong>James Gosling</strong> <cite>Creator of Java</cite></footer></blockquote>




<blockquote><p>If Java programmers want to use features that aren&#8217;t present in the<br/>language, I think they&#8217;re probably best off using another language<br/>that targets the JVM, such a Scala and Groovy.</p><footer><strong>Joshua Bloch</strong> <cite>Author of &#8220;Effective Java&#8221; and Many of Java&#8217;s Core Libraries</cite></footer></blockquote>


<p>Scala basically is:</p>

<ul>
<li>SCAlable LAnguage</li>
<li>Pure OO language</li>
<li>Functional language</li>
<li>Statically typed language</li>
<li>A language that integrates seamlessly with existing Java code</li>
<li>A great community</li>
</ul>


<p>Scala&rsquo;s more prominent features are:</p>

<ul>
<li>Type inference</li>
<li>Advanced type system</li>
<li>Improved OO model</li>
<li>Improved imports system</li>
<li>Simplified visibility rules</li>
<li>Suitable for scripting, GUI, enterprise</li>
<li>Relies on immutable data structures by default</li>
<li>Great support for building parallel applications</li>
<li>Pimps (improves) a lot of standard Java classes using a technique
called <a href="http://www.codecommit.com/blog/ruby/implicit-conversions-more-powerful-than-dynamic-typing">implicit conversion</a>.</li>
</ul>


<h2>Static vs Dynamic typing</h2>

<p>This is one of the oldest debates in computing and everyone with a
little bit of common sense knows that there is no definitive answer to this
so fundamental question. Both approaches have merits and drawbacks. In
recent years we saw a rapid explosion in the rate of growth of
dynamic languages which lead many people to believe that static typing
is something of the past and is headed down on the road to oblivion. I ,
however, very much doubt such a possibility. So, without further ado
here&rsquo;s my take on their pros and cons:</p>

<h4>Dynamic typing</h4>

<ul>
<li><p>Pros</p>

<ul>
<li>Less verbose</li>
<li>Better metaprogramming capabilities &ndash; it&rsquo;s very easy in a
language like to Ruby to modify a class at runtime for
instance. Java developers, on the other side, can only dream for
such things&hellip;</li>
<li>Duck typing allows to reduce immensely the coupling between your
classes</li>
<li>Reduced development and deployment cycles &ndash; most dynamic
languages are implemented as interpreters and this way you&rsquo;re
spared the tedious compilation/redeployment cycles</li>
</ul>
</li>
<li><p>Cons</p>

<ul>
<li>Some might argue that type declarations serve as an additional
documentation and their lack (arguably) make the code harder to
read. Of course, when you&rsquo;re following a decent naming
convention (and by that I mean that you&rsquo;re using sensible
identifiers) that hardly matters.</li>
<li>Slower performance &ndash; knowing all the types in advance,
naturally, allows the compilers to generate faster code for
static languages than for dynamic ones. Some Lisp compilers,
however, offer performance that rivals that of statically typed
programs, so it&rsquo;s reasonable to expect that the situation in
this department will improve over time.</li>
<li>It&rsquo;s hard to create IDEs for dynamic languages that offer the
same level of assistance as those for static languages. The
problem stems from the simple fact that in a dynamic language
the type of an object is known only at runtime and an IDE will have
a pretty hard type guessing the types because of this fact. In
my humble opinion the lack of all the fancy IDE features like
reliable code completion and refactorings is one of the central
reasons why statically type languages like Java, C# and C++ are
still enjoying higher popularity than dynamic languages.</li>
<li>You need to write more unit tests, because many of the simple
errors that the compiler of statically typed language will detect
will manifest themselves only at runtime.</li>
</ul>
</li>
</ul>


<h4>Static typing</h4>

<ul>
<li><p>Pros</p>

<ul>
<li>Mighty development environments, capable of compensating for a
lot of the languages deficiencies. You always get correct
completion suggestions (in a decent IDE that is), all type errors
are caught as you type (except the runtime errors that is).</li>
<li>Reliable refactoring &ndash; you make some changes, you recompile the
project, you instantly see whether everything is OK after the
refactoring. One of the key reasons why enterprise projects are
often implemented in Java and C#.</li>
<li>Maximum performance &ndash; when you know all the types in advance it&rsquo;s
not particularly hard to generate the most efficient in terms of
performance bytecode/binary
code.</li>
<li>You don&rsquo;t need to write unit tests for errors that will be caught
by compiler.</li>
<li>The type declarations arguably serve as an up-to-date
documentation on which you can always rely.</li>
</ul>
</li>
<li><p>Cons</p>

<ul>
<li>Poor metaprogramming support &ndash; statically typed system limit very
much the magic you can do in you programs. Metaprogramming is
actually considered a black art in many statically type
languages. In a functional statically typed language higher-order
functions can compensate a lot in that department. Scala happens
to be one such language, Haskell &ndash; another.</li>
<li>Generally statically type languages are a bit more verbose &ndash;
mostly because the code is full of type annotations (languages
like Scala and Haskell, however, have found the cure for this
ailment &ndash; <a href="http://www.codecommit.com/blog/scala/what-is-hindley-milner-and-why-is-it-cool">type inference</a>)</li>
<li>No support (in most statically typed languages) for duck typing
causes you to often link classes in hierarchies that you&rsquo;d rather
avoid if you had the chance to. I should point out that languages
supporting structural types are not suffering from these
problems. Scala happens to support them from version 2.6.0.</li>
</ul>
</li>
</ul>


<h2>A whirlwind tour of Scala</h2>

<h4>Scala is expressive</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">romanToArabic</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">(</span><span class="s">&quot;I&quot;</span> <span class="o">-&gt;</span> <span class="mi">1</span><span class="o">,</span> <span class="s">&quot;II&quot;</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="o">,</span> <span class="s">&quot;III&quot;</span> <span class="o">-&gt;</span> <span class="mi">3</span><span class="o">,</span> <span class="s">&quot;IV&quot;</span> <span class="o">-&gt;</span> <span class="mi">4</span><span class="o">,</span> <span class="s">&quot;V&quot;</span> <span class="o">-&gt;</span> <span class="mi">5</span><span class="o">)</span>
</span><span class='line'><span class="n">romanToArabic</span><span class="k">:</span> <span class="kt">scala.collection.immutable.Map</span><span class="o">[</span><span class="kt">java.lang.String</span>,<span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">((</span><span class="nc">II</span><span class="o">,</span><span class="mi">2</span><span class="o">),</span> <span class="o">(</span><span class="nc">IV</span><span class="o">,</span><span class="mi">4</span><span class="o">),</span> <span class="o">(</span><span class="n">I</span><span class="o">,</span><span class="mi">1</span><span class="o">),</span> <span class="o">(</span><span class="n">V</span><span class="o">,</span><span class="mi">5</span><span class="o">),</span> <span class="o">(</span><span class="nc">III</span><span class="o">,</span><span class="mi">3</span><span class="o">))</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">romanToArabic</span><span class="o">(</span><span class="s">&quot;I&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">res2</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">romanToArabic</span><span class="o">(</span><span class="s">&quot;II&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">res3</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Scala removes the incidental complexity</h4>

<p>Scala removes the incidental complexity and cut right to the core of
the problem. Imagine that you want to find whether or not a string
contains uppercase characters. In Java you&rsquo;d write something like
this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasUpperCase</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">word</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
</span><span class='line'>    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">Character</span><span class="o">.</span><span class="na">isUpperCase</span><span class="o">(</span><span class="n">word</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)))</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>So much boilerplate code (loop, if) to express such a basic idea. In
Scala you&rsquo;d simply write:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">hasUppercase</span><span class="o">(</span><span class="n">word</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">(</span><span class="n">word</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
</span><span class='line'>    <span class="n">word</span><span class="o">.</span><span class="n">exists</span><span class="o">(</span><span class="n">c</span> <span class="k">=&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">isUpperCase</span><span class="o">)</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="kc">false</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// or more compactly</span>
</span><span class='line'><span class="k">def</span> <span class="n">hasUppercase</span><span class="o">(</span><span class="n">word</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">word</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">word</span><span class="o">.</span><span class="n">exists</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">isUpperCase</span><span class="o">)</span> <span class="k">else</span> <span class="kc">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>Scala&rsquo;s code actually reads a lot like English language that makes
sense to humans &ndash; check if in <em>word</em>
there exists an uppercase character. Notice that is Scala <em>if</em> is an
expression yielding a return value, unlike in many other languages.</p>

<h4>Scala is concise</h4>

<p>Consider this simple JavaBean (well, not exactly JavaBean to be
precise &ndash; it lacks a no param constructor) definition:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In Scala the equivalent definition looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">class</span> <span class="nc">Person</span><span class="o">(</span><span class="k">var</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="k">var</span> <span class="n">age</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is what I call a good signal-to-noise ratio.</p>

<h4>Scala supercharges OO programming</h4>

<p>Scala is pure OO language &ndash; everything is an object, operators are
actually methods, everything yields some result(even constructs such
as if), there are no static field and methods</p>

<h4>Scala is power overwhelming</h4>

<p>Want to implement a thread-safe mathematical service in Scala? No problem!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">import</span> <span class="nn">scala.actors.Actor._</span>
</span><span class='line'>
</span><span class='line'><span class="k">case</span> <span class="k">class</span> <span class="nc">Add</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>
</span><span class='line'><span class="k">case</span> <span class="k">class</span> <span class="nc">Sub</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">val</span> <span class="n">mathService</span> <span class="k">=</span> <span class="n">actor</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">loop</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">receive</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">case</span> <span class="nc">Add</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">reply</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">)</span>
</span><span class='line'>      <span class="k">case</span> <span class="nc">Sub</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">reply</span><span class="o">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="o">)</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">mathService</span> <span class="o">!?</span> <span class="nc">Add</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span> <span class="c1">// returns 4</span>
</span><span class='line'><span class="n">mathService</span> <span class="o">!?</span> <span class="nc">Sub</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span> <span class="c1">// returns 3</span>
</span></code></pre></td></tr></table></div></figure>


<p>Case classes are out of the scope of this post, but I guess you get
the basic idea.</p>

<h4>Scala is duck friendly</h4>

<p>Duck typing is nothing new for developers familiar with dynamic
languages. Its the concept that an objects type is defined not by the
objects class, but by the objects interface. This allows us to write
very flexible code that works on unrelated types (in the inheritance
hierarchy) that happen to share common methods. For instance in Ruby
we could write this code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Duck</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">walk</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;The duck walks&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">quack</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;The duck quacks&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Dog</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">walk</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;The dog walks&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">quack</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;The dog quacks&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">test_animal</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
</span><span class='line'>  <span class="n">animal</span><span class="o">.</span><span class="n">walk</span>
</span><span class='line'>  <span class="n">animal</span><span class="o">.</span><span class="n">quack</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">test_animal</span><span class="p">(</span><span class="no">Duck</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</span><span class='line'><span class="n">test_animal</span><span class="p">(</span><span class="no">Dog</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will work just fine &ndash; trust me. Few statically typed languages can
boast something similar&hellip; and Scala happens to be one of them:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">class</span> <span class="nc">Duck</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">quack</span> <span class="k">=</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;The duck quacks&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">walk</span> <span class="k">=</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;The duck walks&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Dog</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">quack</span> <span class="k">=</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;The dog quacks (barks)&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">walk</span> <span class="k">=</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;The dog walks&quot;</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="n">testDuckTyping</span><span class="o">(</span><span class="n">animal</span><span class="k">:</span> <span class="o">{</span> <span class="kt">def</span> <span class="kt">quack</span><span class="o">;</span> <span class="kt">def</span> <span class="kt">walk</span> <span class="o">})</span> <span class="k">=</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">animal</span><span class="o">.</span><span class="n">quack</span>
</span><span class='line'>  <span class="n">animal</span><span class="o">.</span><span class="n">walk</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testDuckTyping</span><span class="o">(</span><span class="k">new</span> <span class="nc">Duck</span><span class="o">)</span>
</span><span class='line'><span class="nc">The</span> <span class="n">duck</span> <span class="n">quacks</span>
</span><span class='line'><span class="nc">The</span> <span class="n">duck</span> <span class="n">walks</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testDuckTyping</span><span class="o">(</span><span class="k">new</span> <span class="nc">Dog</span><span class="o">)</span>
</span><span class='line'><span class="nc">The</span> <span class="n">dog</span> <span class="n">quacks</span> <span class="o">(</span><span class="n">barks</span><span class="o">)</span>
</span><span class='line'><span class="nc">The</span> <span class="n">dog</span> <span class="n">walks</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is point in the article when Ruby and Python are starting to get
impressed. :&ndash;) (I should know &ndash; I&rsquo;ve learnt about this feature after
I&rsquo;ve written the first draft and got some negative feedback due to my
oversight).</p>

<h4>Pimp my library</h4>

<p>Want to make the compiler convert between types from time to time to
get access to some richer functionality? Nothing is easier in Scala:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">implicit</span> <span class="k">def</span> <span class="n">intarray2sum</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">reduceLeft</span><span class="o">(</span><span class="k">_</span> <span class="o">+</span> <span class="k">_</span><span class="o">)</span>
</span><span class='line'><span class="n">intarray2sum</span><span class="k">:</span> <span class="o">(</span><span class="kt">x:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span><span class="nc">Int</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">x</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
</span><span class='line'><span class="n">x</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">y</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">)</span>
</span><span class='line'><span class="n">y</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">z</span> <span class="k">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span class='line'><span class="n">z</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">21</span>
</span></code></pre></td></tr></table></div></figure>


<p>Scala arrays don&rsquo;t have a + method, but Scala Ints do. When the
compiler sees that the + method is invoked on an object that doesn&rsquo;t
have it, it starts searching for an implicit conversion to a type that
has it &ndash; like Int. Both arrays are converted to their sums and the
sums are added together in the end.</p>

<h2>Playing around</h2>

<p>A good way to start exploring Scala is the REPL. Fire it up and type
along:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;Hello, Scala&quot;</span><span class="o">)</span>
</span><span class='line'><span class="nc">Hello</span><span class="o">,</span> <span class="nc">Scala</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;Bozhidar&quot;</span>
</span><span class='line'><span class="n">name</span><span class="k">:</span> <span class="kt">java.lang.String</span> <span class="o">=</span> <span class="nc">Bozhidar</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="nc">Predef</span><span class="o">.</span><span class="n">println</span><span class="o">(</span><span class="s">&quot;My name is &quot;</span><span class="o">+</span><span class="n">name</span><span class="o">)</span>
</span><span class='line'><span class="nc">My</span> <span class="n">name</span> <span class="n">is</span> <span class="nc">Bozhidar</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">someNumber</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class='line'><span class="n">someNumber</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">names</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="s">&quot;Superman&quot;</span><span class="o">,</span> <span class="s">&quot;Batman&quot;</span><span class="o">,</span> <span class="s">&quot;The Flash&quot;</span><span class="o">,</span> <span class="s">&quot;Bozhidar&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">names</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="nc">Superman</span><span class="o">,</span> <span class="nc">Batman</span><span class="o">,</span> <span class="nc">The</span> <span class="nc">Flash</span><span class="o">,</span> <span class="nc">Bozhidar</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="n">name</span> <span class="k">=&gt;</span> <span class="n">name</span><span class="o">.</span><span class="n">startsWith</span><span class="o">(</span><span class="s">&quot;B&quot;</span><span class="o">))</span>
</span><span class='line'><span class="n">res6</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="nc">Batman</span><span class="o">,</span> <span class="nc">Bozhidar</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'><span class="n">res7</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">4</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">name</span><span class="o">.</span><span class="n">length</span><span class="o">()</span>
</span><span class='line'><span class="n">res8</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">8</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">import</span> <span class="nn">java.util.Date</span>
</span><span class='line'><span class="k">import</span> <span class="nn">java.util.Date</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">currentDate</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Date</span>
</span><span class='line'><span class="n">currentDate</span><span class="k">:</span> <span class="kt">java.util.Date</span> <span class="o">=</span> <span class="nc">Wed</span> <span class="nc">May</span> <span class="mi">11</span> <span class="mi">15</span><span class="k">:</span><span class="err">03</span><span class="kt">:</span><span class="err">20</span> <span class="kt">EEST</span> <span class="err">2011</span>
</span><span class='line'>
</span><span class='line'><span class="kt">scala&gt;</span> <span class="kt">println</span><span class="o">(</span><span class="err">&quot;</span><span class="kt">Now</span> <span class="kt">is</span> <span class="err">&quot;</span> <span class="kt">+</span> <span class="kt">currentDate</span><span class="o">)</span>
</span><span class='line'><span class="kt">Now</span> <span class="kt">is</span> <span class="kt">Wed</span> <span class="kt">May</span> <span class="err">11</span> <span class="err">15</span><span class="kt">:</span><span class="err">03</span><span class="kt">:</span><span class="err">20</span> <span class="kt">EEST</span> <span class="err">2011</span>
</span><span class='line'>
</span><span class='line'><span class="kt">scala&gt;</span> <span class="kt">currentDate.toString</span>
</span><span class='line'><span class="n">res10</span><span class="k">:</span> <span class="kt">java.lang.String</span> <span class="o">=</span> <span class="nc">Wed</span> <span class="nc">May</span> <span class="mi">11</span> <span class="mi">15</span><span class="k">:</span><span class="err">03</span><span class="kt">:</span><span class="err">20</span> <span class="kt">EEST</span> <span class="err">2011</span>
</span><span class='line'>
</span><span class='line'><span class="kt">scala&gt;</span> <span class="kt">currentDate.toString</span><span class="o">()</span>
</span><span class='line'><span class="kt">res11:</span> <span class="kt">java.lang.String</span> <span class="o">=</span> <span class="nc">Wed</span> <span class="nc">May</span> <span class="mi">11</span> <span class="mi">15</span><span class="k">:</span><span class="err">03</span><span class="kt">:</span><span class="err">20</span> <span class="kt">EEST</span> <span class="err">2011</span>
</span><span class='line'>
</span><span class='line'><span class="kt">scala&gt;</span> <span class="kt">currentDate</span> <span class="kt">toString</span>
</span><span class='line'><span class="n">res12</span><span class="k">:</span> <span class="kt">java.lang.String</span> <span class="o">=</span> <span class="nc">Wed</span> <span class="nc">May</span> <span class="mi">11</span> <span class="mi">15</span><span class="k">:</span><span class="err">03</span><span class="kt">:</span><span class="err">20</span> <span class="kt">EEST</span> <span class="err">2011</span>
</span></code></pre></td></tr></table></div></figure>


<p>The REPL has an excellent TAB completion &ndash; I used it ofter. You&rsquo;ll
note from these examples the flexibility and the brevity of Scala&rsquo;s
syntax &ndash; no <strong>;</strong> to terminate statements (though you&rsquo;ll have to use ; to
separate more than one expression on a single line). The types of the
variables are inferred by the context, without the need to
specifically specify them &ndash; if you assign a string literal to some
variable the compiler will figure out on its own that the variable
must of type String (also note that Scala strings are Java strings &ndash;
at least on the JVM). You&rsquo;ve got a lot of flexibility when you&rsquo;re
calling methods &ndash; you can omit the braces and the dot in some
scenarios &ndash; this makes it easy to create Domain Specific Languages in Scala.</p>

<p>The REPL outputs both the result of the expression you&rsquo;ve evaluated
and the output from the evaluation (if any). The result from the
evaluation is assigned to automatically generated variables named resX
(res0, res1, res3) and you can refer to them later on.</p>

<h2>Object orientation purification</h2>

<ul>
<li>Everything is an object &ndash; there are no primitive types in Scala,
though the compiler will map some Scala types to primitive Java
types for performance whenever possible</li>
<li>No operators, just methods

<ul>
<li><code>1 + 2 === 1.+(2)</code></li>
</ul>
</li>
<li><p>No static fields &amp; methods &ndash; replaced by companion objects (a
singleton object named the same way as the class). What would be a
static field of a static method in Java will be a companion object
field/method in Scala. This makes the Scala OO model purer than that
of some other languages (of course in languages like Ruby where
classes are objects class variables and methods have more or less
the same meaning and the model is just a pure if not purer).</p></li>
<li><p><a href="http://www.scala-lang.org/node/126">Traits</a> &ndash; the evolution of interfaces</p>

<ul>
<li>Traits are interfaces on steroids</li>
<li>They can contain state as well as behaviour</li>
<li>Think of them more as Ruby&rsquo;s mixins than Java&rsquo;s interfaces</li>
<li>They can be implemented on the fly by objects</li>
<li>They are too complex to be properly explained in one short blog post :&ndash;)</li>
</ul>
</li>
</ul>


<h2>Functional programming</h2>

<p>Functional programming has many aspects, but to get the bulk of it you
need just two magical ingredients &ndash; support for functions as objects
and a nice array of immutable data structures. Scala, naturally, has
both. Traditionally OOP languages have rarely had much support for
functional programming, which makes it awkward to express some
problems in them. Steve Yegge wrote an excellent article on the
subject some time ago &ndash; <a href="http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html">&ldquo;Execution in the kingdom of the
nouns&rdquo;</a>.</p>

<h4>Return of the verbs</h4>

<ul>
<li><p>Functions are first class objects</p>

<ul>
<li>val inc = (x: Int) => x + 1</li>
<li>inc(1) // => 2</li>
</ul>
</li>
<li><p>Higher-order functions</p>

<ul>
<li>List(1, 2, 3).map((x: Int) => x + 1) // => List(2, 3, 4)</li>
</ul>
</li>
<li><p>Sugared functions</p>

<ul>
<li>List(1, 2, 3).map(x => x + 1)</li>
<li>List(1, 2, 3).map(_ + 1)</li>
</ul>
</li>
</ul>


<h4>Closures</h4>

<p>Closures are basically functions that have captured variables from an
external scope (variables that were not parameters of the
functions). Closures are often used as the parameters of higher-order
functions (functions that take functions as parameters):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">var</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">10</span>
</span><span class='line'><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">addToX</span> <span class="k">=</span> <span class="o">(</span><span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span class='line'><span class="n">addToX</span><span class="k">:</span> <span class="o">(</span><span class="kt">Int</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="nc">Int</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">function1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">addToX</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
</span><span class='line'><span class="n">res0</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">12</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">addToX</span><span class="o">(</span><span class="mi">6</span><span class="o">)</span>
</span><span class='line'><span class="n">res1</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">16</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">5</span>
</span><span class='line'><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">addToX</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
</span><span class='line'><span class="n">res2</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">15</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Functional data structures</h4>

<p>Functional programming revolves around the concept of immutability &ndash;
nothing is ever changed &ndash; we have some input, we get some output and
the input is not changed in the process. Consider a simple operation
like an addition of an element to a list:</p>

<ul>
<li>the operation could modify the list to which the element is being
added</li>
<li>the operation can return a new list that is the same as the
original, but has the additional element</li>
</ul>


<p>Functional programming favours the second approach and Scala as a
functional programming language provides data structures with the
desired behaviour.</p>

<ul>
<li>List &ndash; think here of Lisp lists and not Java lists(unless you&rsquo;re
thinking of Java linked lists that is)</li>
<li>Maps</li>
<li>Sets</li>
<li>Trees</li>
<li>Stacks</li>
</ul>


<p>Scala doesn&rsquo;t force you into functional programming, though. Apart
from the List, which is always immutable, we have two types of all the
core data structures mentioned &ndash; immutable and mutable. The immutable
data structures are those imported by default to promote a more
functional programming style, but you can easily switch to the mutable
versions and program in an imperative manner.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">import</span> <span class="nn">scala.collection.mutable.Map</span>
</span><span class='line'><span class="k">import</span> <span class="nn">scala.collection.mutable.Map</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">phoneBook</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">(</span><span class="s">&quot;Bozhidar&quot;</span> <span class="o">-&gt;</span> <span class="mi">123</span><span class="o">,</span> <span class="s">&quot;Ivan&quot;</span> <span class="o">-&gt;</span> <span class="mi">456</span><span class="o">)</span>
</span><span class='line'><span class="n">phoneBook</span><span class="k">:</span> <span class="kt">scala.collection.mutable.Map</span><span class="o">[</span><span class="kt">java.lang.String</span>,<span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">((</span><span class="nc">Ivan</span><span class="o">,</span><span class="mi">456</span><span class="o">),</span> <span class="o">(</span><span class="nc">Bozhidar</span><span class="o">,</span><span class="mi">123</span><span class="o">))</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">phoneBook</span> <span class="o">+=</span> <span class="s">&quot;Maya&quot;</span> <span class="o">-&gt;</span> <span class="mi">53434</span>
</span><span class='line'><span class="n">res13</span><span class="k">:</span> <span class="kt">phoneBook.</span><span class="k">type</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">((</span><span class="nc">Maya</span><span class="o">,</span><span class="mi">53434</span><span class="o">),</span> <span class="o">(</span><span class="nc">Ivan</span><span class="o">,</span><span class="mi">456</span><span class="o">),</span> <span class="o">(</span><span class="nc">Bozhidar</span><span class="o">,</span><span class="mi">123</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<h4>List almighty</h4>

<p>The list is a core data structure in functional programming because it is
recursively defined and therefore it&rsquo;s very suitable for use in
recursive algorithms. A list is composed of cons cells, each having
two components &ndash; the value it holds and a reference to a next cons
cell. The last cell points to a special value &ndash; Nil (which happens to
represent an empty list).</p>

<p><code>1 | -&gt; 2 | -&gt; 3 | -&gt; Nil</code></p>

<p>Here&rsquo;s some things you can do with Scala&rsquo;s lists:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">::</span> <span class="mi">2</span> <span class="o">::</span> <span class="mi">3</span> <span class="o">::</span> <span class="mi">4</span> <span class="o">::</span> <span class="mi">5</span> <span class="o">::</span> <span class="nc">Nil</span>
</span><span class='line'><span class="n">res3</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">names</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="s">&quot;Neo&quot;</span><span class="o">,</span> <span class="s">&quot;Trinity&quot;</span><span class="o">,</span> <span class="s">&quot;Morpheus&quot;</span><span class="o">,</span> <span class="s">&quot;Tank&quot;</span><span class="o">,</span> <span class="s">&quot;Dozer&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">names</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Neo</span><span class="o">,</span> <span class="nc">Trinity</span><span class="o">,</span> <span class="nc">Morpheus</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">,</span> <span class="nc">Dozer</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'><span class="n">res4</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">println</span><span class="o">)</span>
</span><span class='line'><span class="nc">Neo</span>
</span><span class='line'><span class="nc">Trinity</span>
</span><span class='line'><span class="nc">Morpheus</span>
</span><span class='line'><span class="nc">Tank</span>
</span><span class='line'><span class="nc">Dozer</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">toUpperCase</span><span class="o">)</span>
</span><span class='line'><span class="n">res6</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">NEO</span><span class="o">,</span> <span class="nc">TRINITY</span><span class="o">,</span> <span class="nc">MORPHEUS</span><span class="o">,</span> <span class="nc">TANK</span><span class="o">,</span> <span class="nc">DOZER</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">forall</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="o">)</span>
</span><span class='line'><span class="n">res7</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">false</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">forall</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">)</span>
</span><span class='line'><span class="n">res8</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">startsWith</span><span class="o">(</span><span class="s">&quot;T&quot;</span><span class="o">))</span>
</span><span class='line'><span class="n">res9</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Trinity</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">exists</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
</span><span class='line'><span class="n">res10</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">drop</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
</span><span class='line'><span class="n">res11</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Morpheus</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">,</span> <span class="nc">Dozer</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">reverse</span>
</span><span class='line'><span class="n">res12</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Dozer</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">,</span> <span class="nc">Morpheus</span><span class="o">,</span> <span class="nc">Trinity</span><span class="o">,</span> <span class="nc">Neo</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">sortBy</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
</span><span class='line'><span class="n">res13</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Neo</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">,</span> <span class="nc">Dozer</span><span class="o">,</span> <span class="nc">Trinity</span><span class="o">,</span> <span class="nc">Morpheus</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="o">(</span><span class="k">_</span> <span class="o">&gt;</span> <span class="k">_</span><span class="o">)</span>
</span><span class='line'><span class="n">res14</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Trinity</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">,</span> <span class="nc">Neo</span><span class="o">,</span> <span class="nc">Morpheus</span><span class="o">,</span> <span class="nc">Dozer</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">.</span><span class="n">slice</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
</span><span class='line'><span class="n">res16</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">java.lang.String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Morpheus</span><span class="o">,</span> <span class="nc">Tank</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Pattern matching</h4>

<p>You can think of Scala&rsquo;s pattern matching as a super charged version
of switch, capable of matching on a variety of criteria and of
destructuring that matched objects. Here&rsquo;s a simple example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="k">def</span> <span class="n">testMatching</span><span class="o">(</span><span class="n">something</span><span class="k">:</span> <span class="kt">Any</span><span class="o">)</span> <span class="k">=</span> <span class="n">something</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="mi">1</span> <span class="k">=&gt;</span> <span class="s">&quot;one&quot;</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="s">&quot;two&quot;</span> <span class="k">=&gt;</span> <span class="mi">2</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=&gt;</span> <span class="s">&quot;an integer number&quot;</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="n">x</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span> <span class="s">&quot;some string&quot;</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="o">&lt;</span><span class="n">xmltag</span><span class="o">&gt;{</span><span class="n">content</span><span class="o">}&lt;/</span><span class="n">xmltag</span><span class="o">&gt;</span> <span class="k">=&gt;</span> <span class="n">content</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="n">head</span> <span class="o">::</span> <span class="n">tail</span> <span class="k">=&gt;</span> <span class="n">head</span>
</span><span class='line'>     <span class="o">|</span>   <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="s">&quot;something else entirely&quot;</span>
</span><span class='line'>     <span class="o">|</span> <span class="o">}</span>
</span><span class='line'><span class="n">testMatching</span><span class="k">:</span> <span class="o">(</span><span class="kt">something:</span> <span class="kt">Any</span><span class="o">)</span><span class="kt">Any</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'><span class="n">res18</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="n">one</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="s">&quot;two&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">res19</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="mi">2</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
</span><span class='line'><span class="n">res20</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">number</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="s">&quot;matrix&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">res21</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="n">some</span> <span class="n">string</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(&lt;</span><span class="n">xmltag</span><span class="o">&gt;</span><span class="k">this</span> <span class="n">is</span> <span class="n">in</span> <span class="n">the</span> <span class="n">tag</span><span class="o">&lt;/</span><span class="n">xmltag</span><span class="o">&gt;)</span>
</span><span class='line'><span class="n">res22</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="k">this</span> <span class="n">is</span> <span class="n">in</span> <span class="n">the</span> <span class="n">tag</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))</span>
</span><span class='line'><span class="n">res23</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">scala</span><span class="o">&gt;</span> <span class="n">testMatching</span><span class="o">(</span><span class="mf">3.9</span><span class="o">)</span>
</span><span class='line'><span class="n">res24</span><span class="k">:</span> <span class="kt">Any</span> <span class="o">=</span> <span class="n">something</span> <span class="k">else</span> <span class="n">entirely</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pattern matching gives you a new way to implement common programming
task. For instance consider the following trivial problem &ndash; computing
the length of a list:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">length</span><span class="o">(</span><span class="n">list</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Any</span><span class="o">])</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">list</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="n">head</span> <span class="o">::</span> <span class="n">tail</span> <span class="k">=&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span><span class="o">(</span><span class="n">tail</span><span class="o">)</span>
</span><span class='line'>  <span class="k">case</span> <span class="nc">Nil</span> <span class="k">=&gt;</span> <span class="mi">0</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Sure, it&rsquo;s not tail-recursive, but it&rsquo;s pretty neat. Now that I
mentioned tail-recursion I should probably say a bit more about
it. Recursive solutions generally look very nice in source form, but
performance-wise are not that great because each recursive call
creates a new stack frame and what&rsquo;s even worse is that stack frames
are limited &ndash; create too many of them and your program will blow
up. This doesn&rsquo;t mean that we should start coding everything
imperatively, of course. Some compilers have the ability to optimize
away recursive calls if the last thing that happens in the recursive
function is a call to the function itself. In the case of our function <em>length</em>,
unfortunately, the last call happens to be of the method <strong>+</strong> of the
object <strong>1</strong> (of class Int). We can improve the solution this way:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">length</span><span class="o">(</span><span class="n">list</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Any</span><span class="o">])</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">lengthrec</span><span class="o">(</span><span class="n">list</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Any</span><span class="o">],</span> <span class="n">result</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">list</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="n">head</span> <span class="o">::</span> <span class="n">tail</span> <span class="k">=&gt;</span> <span class="n">lengthrec</span><span class="o">(</span><span class="n">tail</span><span class="o">,</span> <span class="n">result</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span>
</span><span class='line'>    <span class="k">case</span> <span class="nc">Nil</span> <span class="k">=&gt;</span> <span class="n">result</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">lengthrec</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice that we now have a nested helper method with a second parameter,
an accumulator value. This pattern often recurs when dealing with tail
recursion &ndash; we take the original recursive definition and introduce a
helper method using accumulator that is tail recursive. The outer
method just calls the helper method and waits for the result. The
Scala compiler will translate internally this recursive function into
a something like a loop and the performance will be greatly improved,
while preserving the clarity of the recursive approach.</p>

<p>Some languages (like Scheme) will always optimize tail calls. Because
of limitations in the JVM not all tail calls can be optimized in Scala
(for now), but
some tails recursion is better than none.</p>

<h2>Parallel programming</h2>

<p>With the advent of multi-core processors concurrent programming is
becoming indispensable. Scala&rsquo;s primary concurrency construct is
actors. Actors are basically concurrent processes that communicate by
exchanging messages. Actors can also be seen as a form of active
objects where invoking a method corresponds to sending a
message. Actors are not a new idea &ndash; Scala&rsquo;s actor library draws heavy
inspiration from Erlang &ndash; a programming language notable for its
support for the development of distributed highly parallel systems.</p>

<p>The Scala Actors library provides both asynchronous and synchronous
message sends (the latter are implemented by exchanging several
asynchronous messages). Moreover, actors may communicate using futures
where requests are handled asynchronously, but return a representation
(the future) that allows to await the reply.</p>

<p>All actors execute in parallel by their nature. Each actor acts as if
it contains its own dedicated thread of execution.</p>

<p>Here&rsquo;s a very simple actor example. The echoActor runs forever and
waits for messages:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">import</span> <span class="nn">scala.actors.Actor._</span>
</span><span class='line'><span class="k">val</span> <span class="n">echoActor</span> <span class="k">=</span> <span class="n">actor</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">receive</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">case</span> <span class="n">msg</span> <span class="k">=&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;received: &quot;</span><span class="o">+</span><span class="n">msg</span><span class="o">)</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">echoActor</span> <span class="o">!</span> <span class="s">&quot;Chuck Norris is the only real actor!&quot;</span>
</span><span class='line'><span class="n">echoActor</span> <span class="o">!</span> <span class="s">&quot;You don&#39;t find Chuck Norris - Chuck Norris finds you!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here the actor just waits for messages and responds to them by
printing them to the console. Since the article&rsquo;s size is already
quite impressive I won&rsquo;t go into any further details about the actors.</p>

<p>I want you to know that actors are not the only way to write parallel
programs in Scala. You still have access to the native Java (or .Net)
primitive like threads, locks, executors, etc. Another option is the
Scala implementation of Software Transactional Memory(STM) &ndash; a
parallel programming model made recently popular by the Clojure
programming language. Scala&rsquo;s implementation is a work in progress and
you can have a look a it
<a href="http://nbronson.github.com/scala-stm/">here</a>. STM is basically a
programming technique that lets you model concurrent operations in a
way similar to db transactions &ndash; you combine the critical code in a
transaction and if possible execute it and commit the transaction,
otherwise just rollback it and maybe try again after a while. Note that this is a
<em>great</em> oversimplification of what&rsquo;s actually happening &ndash; for all the
gory details you should read the exhaustive documentation.</p>

<h2>Tools</h2>

<p>We all know that even the best programming language can be rendered
useless by the lack of good development tools for it &ndash; powerful text
editors, integrated development environments, profilers, build tools,
etc. Scala is a relatively young programming language that became
really popular just recently and as a result there are still no
development environments for Scala as powerful as those for Java
(although since both languages use static typing eventually the
environments will be on par). Most popular Java IDEs features feature
some form of Scala support and most Java build tools as well.</p>

<ul>
<li><p>IDE</p>

<ul>
<li><p><a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> &ndash; the ultimate
Scala IDE at the moment. It works quite well, but it&rsquo;s a bit
buggy that the moment (which is to be expected of something with
some many beta features).</p></li>
<li><p><a href="http://www.scala-ide.org/">Eclipse</a> &ndash; the most
popular Java IDE has a Scala plug-in that
until recently was mostly useless, but currently is being
totally reworked and the next stable version will bring usable
Scala support to the Eclipse users. The development of the new
Scala plug-in is headed by none other than Martin Odersky
himself. Don&rsquo;t bother using the older version at all &ndash; just grab
the latest beta.</p></li>
<li><p><a href="http://wiki.netbeans.org/Scala69">NetBeans</a> &ndash; Presently the
Scala support in NetBeans is a bit basic, but it&rsquo;s usable.</p></li>
<li><p><a href="https://github.com/aemoncannon/ensime">Emacs ENSIME</a> &ndash; Ok, I admit &ndash; Emacs is not actually an IDE
per se, but it&rsquo;s still much more powerful than most IDEs. Emacs
happens to have an excellent Scala mode, called ENSIME that
gives you code completion, instant feedback, an integrated REPL,
SBT integration, refactorings and other goodies in an Emacs
package. The project attempts to be the equivalent of the legendary SLIME (
an Emacs mode for Common Lisp) for Scala. ENSIME is integrated
into the <a href="https://github.com/bbatsov/emacs-dev-kit">Emacs Dev Kit</a>(maintained by yours truly).</p></li>
</ul>
</li>
<li><p>Scala distribution</p>

<ul>
<li><p>scala &ndash; A Scala REPL for exploratory programming; it&rsquo;s also the
Scala &ldquo;interpreter&rdquo; and the Scala class runner</p></li>
<li><p>scalac &ndash; the Scala compiler</p></li>
<li><p>fsc &ndash; fast Scala compiler. The Scala compiler is notoriously
slow to start and fsc is a partial solution to this problem. The fsc runs
as a daemon and waits to receive files to compile. Maven&rsquo;s
scala:cc and sbt&rsquo;s ~compile continuous compilation task use fsc internally.</p></li>
<li><p>sbaz &ndash; The Scala Bazaar System, sbaz for short, is a packaging
system developed to automate the task of mainaining a Scala
installation. The program allows you to easily upgrade your
installation as soon as a new version is available. You can also
contribute your own packages, and make them easily available to
other sbaz users.</p></li>
</ul>
</li>
<li><p>Build tools</p>

<ul>
<li><a href="http://maven.apache.org">Apache Maven</a></li>
<li><a href="http://buildr.apache.org">Apache Buildr</a></li>
<li><a href="http://gradle.org">Gradle</a></li>
<li><a href="http://code.google.com/p/simple-build-tool/">SBT</a></li>
</ul>
</li>
</ul>


<h2>Killer apps</h2>

<p>Scala presently doesn&rsquo;t have that many killer apps. Here are the most
prominent:</p>

<ul>
<li><p><a href="http://liftweb.net/">Lift web framework</a> &ndash; Lift is a web framework
that has cherry-picked some of the best ideas from existing frameworks and
added some novelties of its own to harness the capabilities of the
Scala programming language.</p>

<ul>
<li>Lazy page loading</li>
<li>Parallel rendering</li>
<li>Comet &amp; Ajax</li>
<li>Wiring</li>
<li>Designer friendly templates</li>
<li>Wizard</li>
<li>Security</li>
</ul>
</li>
<li><p><a href="http://www.playframework.org/">Play framework</a> &ndash; Play focuses on
developer productivity and targets RESTful architectures. It has
both a Java and a Scala API. It&rsquo;s considered by many to be the first
Java web framework that was actually made by web developers.</p></li>
<li><p><a href="http://akka.io/">Akka</a> &ndash; A powerful library for writing concurrent applications
using Actors, STM &amp; Transactors. It has both Scala and Java API.</p></li>
<li><p><a href="http://code.google.com/p/simple-build-tool/">SBT</a> &ndash; a powerful
build tool</p></li>
</ul>


<h2>Success stories</h2>

<ul>
<li><a href="http://www.artima.com/scalazine/articles/twitter_on_scala.html">Twitter</a>  &ndash; you remember how often Twitter used to go down because of
overloads and suddenly the problems stopped &ndash; no, this was the
moment in which Twitter&rsquo;s backend was rewritten in Scala (that
moment never actually came)&hellip; I have it on good authority that the
problem was actually resolved by great improvements in their Ruby
code base. But they use Scala there &ndash; Twitter had a Ruby-based
queueing system that we used for communicating between the Rails
front ends and the daemons that often crashed under heavy loads, and
they ended up replacing that with one written in Scala.</li>
<li><a href="http://www.scala-lang.org/node/5130">Four square</a> &ndash; Four square
uses Lift as well</li>
<li><a href="http://www.scala-lang.org/node/6436">LinkedIn</a></li>
<li>SAP</li>
<li><a href="http://www.infoq.com/articles/guardian_scala">Guardian.co.uk</a></li>
</ul>


<h2>Comparison to Java</h2>

<p>It&rsquo;s only natural that Java developers are interested in how Scala
stacks up to Java:</p>

<ul>
<li>Pros

<ul>
<li>Scala is fast, just as fast as Java. Some might wonder why this
is a feature &ndash; they should take a look at the performance of the
most of the other JVM langs and they&rsquo;ll understand. Granted, all
of the performance benefits come from the use of static typing
in Scala, but Scala&rsquo;s code is often as concise as the code
written in a dynamic language like Ruby or Groovy.</li>
<li>Great Java interoperability</li>
<li>Scala removes a lot of the incidental complexity of programming
and let&rsquo;s you express your thoughts directly in the source code</li>
<li>The syntax of Scala is mostly uniform and you can usually easily
create new abstractions that look like language built-ins.</li>
<li>Scala features great support for parallel programming.</li>
<li>Runs on both Java and .Net (at least in theory)</li>
</ul>
</li>
<li>Cons

<ul>
<li>Some aspects of the language are fairly complex like the
subtyping rules for instance. This will probably scare off some
people, but I can assure you that this complexity is superficial
and once you&rsquo;ve grasped enough of Scala everything will fall
into place and seem to you the most natural thing in the world.</li>
<li>Calling Scala from Java is not as easy as calling Java from
Scala.</li>
<li>The core API is still subject to constant changes and most new
Scala version are not backward compatible with the old ones
(unlike in Java).</li>
<li>Scala&rsquo;s community (albeit very friendly and helpful) is current
tiny compared to Java&rsquo;s. You might not get an assistance from
the community as quickly as you&rsquo;d get it for Java related
problems.</li>
</ul>
</li>
</ul>


<h2>Resources</h2>

<ul>
<li>Books

<ul>
<li><a href="http://programming-scala.labs.oreilly.com/">Programming Scala</a>

<ul>
<li>great free on-line book</li>
</ul>
</li>
<li><a href="http://www.artima.com/pins1ed/">Programming in Scala</a> &ndash; the holy
bible of Scala. The first edition is available for free on-line.</li>
</ul>
</li>
<li>Blogs &amp; Websites

<ul>
<li><a href="http://www.scala-lang.org">Official web site</a></li>
<li><a href="http://www.codecommit.com/blog/">Daniel Spiewak&rsquo;s blog</a></li>
<li><a href="http://daily-scala.blogspot.com/">Daily Scala</a></li>
</ul>
</li>
<li>Exercises

<ul>
<li><a href="http://aperiodic.net/phil/scala/s-99/">99 Scala problems</a></li>
</ul>
</li>
</ul>


<h2>Epilogue</h2>

<p>Scala&rsquo;s future is nothing but bright. It uses static typing, which is
familiar to so many Java and C# developers, and is also the
prerequisite for creating very helpful IDEs. Scala runs on the
venerable Java platform and easily leverages all of its power while
adding a lot of magic of its own &ndash; implicits, type inference, pattern
matching, functional programming support, actors and others.</p>

<p>It&rsquo;s my personal opinion that if any language has the chance to
displace Java as the king of the world &ndash; that might be Scala. In all
likelihood this will never happen &ndash; rarely has the greatest solutions
enjoyed the greatest popularity (remember the Betamax vs VHS?). I do
believe, however, that Scala will capture a significant market share
in the coming years &ndash; mainly due to it excellent support for building
distributed systems.</p>

<p>Until next time and the next chapter of the story, dedicated to the
rising star of the JVM world &ndash; Clojure.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/articles/2011/05/06/jvm-langs-groovy/">Java.next() - the Groovy Programming Language</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-06T00:00:00+03:00" pubdate data-updated="true">May 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Java.next()</h2>

<p>In a series of articles labeled &ldquo;Java.next()&rdquo; I&rsquo;ll be discussing
modern alternatives to the Java programming language for use with the
Java Platform. This is the first installment of the series &ndash; &ldquo;The
Groovy Programming Language&rdquo;.</p>

<h2>Prelude</h2>

<p>We all know and love the Java <em>platform</em>(note the emphasis on
platform) for a couple of obvious reasons. Most notably it features a
huge high quality standard library and a legendary execution
environment &ndash; the Java Virtual Machine(JVM). The JVM is known to
posses the following qualities:</p>

<ul>
<li>Runs on all major platforms</li>
<li>Enterprise ready</li>
<li>Extremely stable</li>
<li>Extremely fast</li>
<li>Highly customizable &ndash; many aspects of its work can easily be
adjusted such as GC settings, heap settings, etc.</li>
</ul>


<p>There is a terrific community around the Java platform that has
contributed an immense amount of high quality software vital to the
success of Java. Hibernate, Spring, Eclipse, NetBeans, the myriad of
Apache projects are all community efforts.</p>

<p>So far so good, but it&rsquo;s not all rainbows and unicorns in the land of
Java. The Java programming language is a common source of gripe
amongst many developers for various reasons. I&rsquo;ll list here some of
the more notable of them:</p>

<ul>
<li>It&rsquo;s not a pure OOP language(there is a difference between primitive
and reference data types)</li>
<li>It uses static typing(highly subjective topic, but commonly brought up)</li>
<li>It doesn&rsquo;t have support for closures(which instantly kills half of
functional&rsquo;s programming ideas such as higher order functions)</li>
<li>It has limited meta programming capabilities(compared to Ruby and
Lisp for instance)</li>
<li>There is no concept of top-level procedures(outside of class
definitions)(this makes Java unsuitable for creating &ldquo;script&rdquo; programs)</li>
<li>Its syntax is too verbose</li>
<li>It&rsquo;s not suitable for the creation of DSLs</li>
<li>Its development is sluggish and restrained by the corporate promise of backward compatibility</li>
<li>It&rsquo;s an imperative language</li>
<li>Its parallel programming model is revolving mostly around locks and
threads</li>
</ul>


<p>Naturally there are some languages that alleviate some(most) of Java&rsquo;s
problems such as:</p>

<ul>
<li>Ruby</li>
<li>Python</li>
<li>Lisp</li>
<li>Erlang</li>
<li>Haskell</li>
</ul>


<p>They all, however, lack(with their default implementations at least)
an execution environment that can match the JVM. They also lack Java&rsquo;s
immense amount of libraries currently available. When enthusiasts
started porting existing languages to the JVM this came as no surprise
&ndash; it was only logical. A good language get a good execution
environment. For instance some folks ported Ruby to Java which
resulted in JRuby, Python also got a Java port called Jython. Though a
lot of good has come from such ports they was also a price to pay. In
the case of Ruby and Python some libraries are not written in
Ruby/Python, but in C for performance reasons, which naturally leads
to problems when you factor in a Java implementation of the
language. There is also the fact that the JVM(currently) doesn&rsquo;t have
support for dynamic memory dispatching which is feature vital for
dynamically typed languages to get a decent performance. For this
reason Jython is notoriously slow. The JRuby team did a much better
work, circumvented a lot of the JVM limitations and actually managed
to create a Ruby implementation that in some scenarios beats the
performance of the standard MRI Ruby 1.9 with it&rsquo;s custom YARV virtual
machine implemented in C. JRuby will be the object of a further
discussion down the road. Some of the languages that were ported to
the JVM suffer from another problem as well &ndash; it&rsquo;s not straightforward
and efficient in them to reuse existing Java libraries directly.</p>

<p>I&rsquo;d like to lead this discussion in another direction, however &ndash;
programming languages that were implemented from scratch with the JVM
as their execution environment. While there are many of those three
stand out and have gathered a significant momentum in recent
years. They will be the subject of this post and the following
two. Without further adieu I&rsquo;d like you to meet Groovy, Scala and
Clojure.</p>

<p>We&rsquo;ll begin our discussion with Groovy&hellip;</p>

<p><strong>Disclaimer</strong></p>

<p><em>Before I start I&rsquo;d like to point out that my knowledge of Groovy is
limited compared to my knowledge of Scala and Clojure. Despite this I
decided to share my thoughts on the language because it&rsquo;s certainly one
of the most popular JVM languages out there. If I&rsquo;ve made any errors
in the article I didn&rsquo;t mean to insult anyone with my ignorance and
I&rsquo;ll certainly be glad to fix them when someone points them out.</em></p>

<h2>A little bit of Groovy history</h2>

<p>James Strachan first talked about the development of Groovy in his
<a href="http://radio-weblogs.com/0112098/2003/08/29.html">blog</a> in August
2003. Several versions were released between 2004 and 2006. After the
JCP(yep, you read that correct &ndash; Groovy is actually a Java standard
which is great or scary depending on your point of view)
standardization process began, the version numbering was changed and a
version called &ldquo;1.0&rdquo; was released on January 2, 2007. After various
betas and release candidates numbered 1.1, on December 7, 2007, Groovy
1.1 Final was released and immediately rebranded as Groovy 1.5 as a
reflection of the many changes that were made.</p>

<p>In July 2009, Strachan wrote on his blog that &ldquo;I can honestly say if
someone had shown me the Programming in Scala book by Martin Odersky,
Lex Spoon &amp; Bill Venners back in 2003 I&rsquo;d probably have never created
Groovy.&rdquo; Strachan left the project silently a year before the
Groovy 1.0 release in 2007. Leadership of the project was assumed by
Guillaume Laforge (Project Manager and JSR-241 Spec Lead). Under his
guidance Groovy thrived and his risen to be arguably the most widely
used JVM language apart from Java.</p>

<p>Currently the development of Groovy proceeds with a very fast pace and
the latest major update 1.8.0 was released just a couple of days ago.</p>

<h2>Installation &amp; Getting started</h2>

<p><strong>Platform independent installation</strong>
These instructions describe how to install a binary distribution of Groovy.</p>

<ul>
<li>download a <a href="http://groovy.codehaus.org/Download">binary distribution of Groovy</a> and unpack it into some file on your local file system</li>
<li>set your GROOVY_HOME environment variable to the directory you unpacked the distribution</li>
<li>add GROOVY_HOME/bin to your PATH environment variable</li>
<li>set your JAVA_HOME environment variable to point to your JDK. On OS
X this is /Library/Java/Home, on other unixes its often /usr/java
etc. If you&rsquo;ve already installed tools like Ant or Maven you&rsquo;ve
probably already done this step.</li>
</ul>


<p>For instance here&rsquo;s the relevant information of my shell&rsquo;s
configuration:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/java/latest
</span><span class='line'><span class="nb">export </span><span class="nv">GROOVY_HOME</span><span class="o">=</span>/opt/groovy-1.8.0
</span><span class='line'><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$GROOVY_HOME</span>/bin:<span class="nv">$PATH</span>
</span></code></pre></td></tr></table></div></figure>


<p>You should now have Groovy installed properly. You can test this by
typing the following in a command shell:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>groovysh
</span></code></pre></td></tr></table></div></figure>


<p>Which should create an interactive groovy shell where you can type
Groovy statements. Or to run the Swing interactive console type:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>groovyConsole
</span></code></pre></td></tr></table></div></figure>


<p>To run a specific Groovy script type:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>groovy SomeScript.groovy
</span></code></pre></td></tr></table></div></figure>


<h4>Linux installation</h4>

<p>Most Linux distributions provide Groovy through their integrated
package management system. On Debian(and derivatives like Ubuntu) you
can install it like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo apt-get install groovy
</span></code></pre></td></tr></table></div></figure>


<p>On Red Hat systems the magic incantation looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo yum install groovy
</span></code></pre></td></tr></table></div></figure>


<p>Personally I&rsquo;d prefer the platform-independent installation method,
since some distribution package Groovy in a non-standard manner which
confuses IDEs for instance.</p>

<h4>Windows installation</h4>

<p>Groovy features a native <a href="http://dist.codehaus.org/groovy/distributions/installers/windows/nsis/groovy-1.8.0-installer.exe">Windows installer</a>.</p>

<h2>Meet Groovy</h2>

<blockquote><p>&#8220;Groovy is like a super version of Java. It can leverage Java&#8217;s<br/>enterprise capabilities but also has cool productivity features like<br/>closures, builders and dynamic typing. If you are a developer, tester<br/>or script guru, you have to love Groovy.&#8221;</p><footer><strong>Praise for Groovy,</strong> <cite><a href='http://groovy.codehause.org'>groovy.codehause.org/&hellip;</a></cite></footer></blockquote>


<p>Groovy is:</p>

<ul>
<li>is one of the two standard languages for the JVM(the other is Java
of course)</li>
<li>is an agile and dynamic language for the Java Virtual Machine</li>
<li>builds upon the strengths of Java but has additional power features inspired by languages like Python, Ruby and Smalltalk</li>
<li>makes modern programming features available to Java developers with almost-zero learning curve</li>
<li>supports Domain-Specific Languages and other compact syntax so your
code becomes easy to read and maintain</li>
<li>makes writing shell and build scripts easy with its powerful processing primitives, OO abilities and an Ant DSL</li>
<li>increases developer productivity by reducing scaffolding code when developing web, GUI, database or console applications</li>
<li>simplifies testing by supporting unit testing and mocking out-of-the-box</li>
<li>seamlessly integrates with all existing Java classes and libraries</li>
<li>compiles straight to Java bytecode so you can use it anywhere you
can use Java</li>
</ul>


<p>Some of Groovy&rsquo;s most compelling features are:</p>

<ul>
<li>Pure OOP language</li>
<li>Mostly Java compatible syntax</li>
<li>Optional typing</li>
<li>No need to wait for a future version of Java to get:

<ul>
<li>Closures</li>
<li>Attributes</li>
<li>Smart switch</li>
</ul>
</li>
<li>Duck typing</li>
<li>BigInteger based arithmetic

<ul>
<li>This deserves some special explanation because of a rather
strange design decision in Groovy. Groovy will create a
BigIntiger out of a large enough number literal, but it won&rsquo;t
promote the result of an integer operation into BigInteger &ndash;
the result will actually overflow, in contrast to the semantics of most
other dynamically typed languages. Multiply 1000 * 1000000000
and you will end up with -727379968 in Groovy.</li>
</ul>
</li>
<li>SQL, XML &amp; Swing improvements</li>
<li>Unified data access API</li>
</ul>


<p>A core idea, guiding the design of Groovy, is making it easy to use for
existing Java developers. Groovy&rsquo;s designers have gone so far in that
direction that the Groovy compiler will happily compile most Java
source files without the need for any modifications. Groovy, however,
builds heavily upon the standard Java&rsquo;s syntax and you&rsquo;ll do well to
get a grip of Groovy&rsquo;s core idioms. Groovy&rsquo;s syntax in a nutshell:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// old school Java code, but also valid Groovy code</span>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// idiomatic Groovy</span>
</span><span class='line'><span class="n">println</span> <span class="s">&quot;Hello, world!&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// dynamic variable definition</span>
</span><span class='line'><span class="n">def</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Bozhidar&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// GString featuring string interpolation</span>
</span><span class='line'><span class="n">println</span> <span class="s">&quot;Hello, $name&quot;</span>  <span class="c1">// =&gt; &quot;Hello, Bozhidar&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// statically typed variable</span>
</span><span class='line'><span class="n">String</span> <span class="n">songName</span> <span class="o">=</span> <span class="s">&quot;Coding in the Name of&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">println</span> <span class="s">&quot;Now playing - $songName&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">String</span> <span class="n">multiline</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;this is a multiline</span>
</span><span class='line'><span class="s">string. There is not need to embed</span>
</span><span class='line'><span class="s">newline characters in it&quot;&quot;&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">println</span> <span class="n">multiline</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// method definition</span>
</span><span class='line'><span class="n">def</span> <span class="nf">greet</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span> <span class="s">&quot;Hello, $name!&quot;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// method invocation</span>
</span><span class='line'><span class="n">greet</span> <span class="s">&quot;Bozhidar&quot;</span>
</span><span class='line'><span class="n">greet</span><span class="o">(</span><span class="s">&quot;Bozhidar&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// safe dereferencing</span>
</span><span class='line'><span class="n">def</span> <span class="nf">showSize</span><span class="o">(</span><span class="n">list</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span> <span class="s">&quot;List size is: ${list?.size}&quot;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">showSize</span><span class="o">([</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">])</span>
</span><span class='line'><span class="c1">// this is the important part</span>
</span><span class='line'><span class="n">showSize</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// a list</span>
</span><span class='line'><span class="n">def</span> <span class="n">beers</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;Zagorka&quot;</span><span class="o">,</span> <span class="s">&quot;Bolyarka&quot;</span><span class="o">,</span> <span class="s">&quot;Shumensko&quot;</span><span class="o">,</span> <span class="s">&quot;Ariana&quot;</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// list access</span>
</span><span class='line'><span class="n">println</span> <span class="s">&quot;My favourite beer is ${beers[1]}&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">beers</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">beer</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="n">beer</span> <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// imports can appear anywhere and support the creation of aliases</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Calendar</span><span class="o">.</span><span class="na">getInstance</span> <span class="n">as</span> <span class="n">now</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.sql.Date</span> <span class="n">as</span> <span class="n">SDate</span>
</span><span class='line'>
</span><span class='line'><span class="n">println</span> <span class="nf">now</span><span class="o">()</span>
</span><span class='line'><span class="c1">// java.util package is automatically imported in Groovy so this is java.util.Date</span>
</span><span class='line'><span class="n">println</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">()</span>
</span><span class='line'><span class="n">println</span> <span class="k">new</span> <span class="nf">SDate</span><span class="o">(</span><span class="mi">2011</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// language support for regular expressions</span>
</span><span class='line'><span class="k">if</span> <span class="o">(</span><span class="s">&quot;Hello, Groovy&quot;</span> <span class="o">=~</span> <span class="o">/</span><span class="err">\</span><span class="n">w</span><span class="o">+,</span><span class="err">\</span><span class="n">s</span><span class="err">\</span><span class="n">w</span><span class="o">+/)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span> <span class="s">&quot;It matches&quot;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// range filtering with higher-order functions</span>
</span><span class='line'><span class="o">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">).</span><span class="na">findAll</span> <span class="o">{</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">}.</span><span class="na">each</span> <span class="o">{</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="n">n</span> <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// map</span>
</span><span class='line'><span class="n">def</span> <span class="n">capitols</span> <span class="o">=</span> <span class="o">[</span><span class="nl">Bulgaria:</span> <span class="s">&quot;Sofia&quot;</span><span class="o">,</span> <span class="nl">USA:</span> <span class="s">&quot;Washington&quot;</span><span class="o">,</span> <span class="nl">England:</span><span class="s">&quot;London&quot;</span><span class="o">,</span> <span class="nl">France:</span><span class="s">&quot;Paris&quot;</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">println</span> <span class="n">capitols</span><span class="o">[</span><span class="s">&quot;Bulgaria&quot;</span><span class="o">]</span> <span class="c1">// =&gt; Sofia</span>
</span><span class='line'><span class="n">println</span> <span class="n">capitols</span><span class="o">[</span><span class="s">&quot;France&quot;</span><span class="o">]</span>  <span class="c1">// =&gt; Paris</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// class definition</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">def</span> <span class="n">name</span>
</span><span class='line'>    <span class="n">def</span> <span class="n">age</span>
</span><span class='line'>
</span><span class='line'>    <span class="nf">Person</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&quot;Name {$name}, age {$age}&quot;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">def</span> <span class="n">me</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&quot;Bozhidar&quot;</span><span class="o">,</span> <span class="mi">26</span><span class="o">)</span>
</span><span class='line'><span class="n">println</span> <span class="n">me</span>
</span></code></pre></td></tr></table></div></figure>


<p>From the brief overview you might have noticed that like Ruby and
Python Groovy has language support for commonly used data structures
such as lists, maps, ranges and regular expressions:</p>

<ul>
<li>List &ndash; def number = [1, 2, 3]</li>
<li>Map &ndash; def countries = [BG: Bulgaria, DE: Germany]</li>
<li>Range &ndash; def range = 1..1000</li>
<li>Regular expressions &ndash; def whitespace = /\s+/</li>
</ul>


<p>You might have noticed another interesting feature in Groovy &ndash; the
ability to combine static type(like in Java) with dynamic typing(like
in Ruby and Python). The keyword <em>def</em> is used to introduce
dynamically typed variables in Groovy.</p>

<p>Groovy comes with its very own standard library(GDK) which builds upon
the JDK(for instance the File and String classes are enhanced in
Groovy) and offer some new features like the Groovy&rsquo;s famous builders.</p>

<h2>OOP in Groovy</h2>

<p>Groovy is a pure object oriented language. Everything is an object,
operations are methods, etc. Compared the Java the picture looks right
about this way:</p>

<ul>
<li><p>Similar capabilities to Java</p>

<ul>
<li>Define classes, interfaces, enums, annotations</li>
</ul>
</li>
<li><p>Differences to Java</p>

<ul>
<li>Classes (and interfaces etc.) public by default</li>
<li>Methods public by default</li>
<li>Property support within classes (auto-setters/getters)</li>
<li>Duck typing</li>
</ul>
</li>
</ul>


<p>Java developers should feel mostly at home.</p>

<h2>SQL and XML handling</h2>

<p>Groovy offers some nice improvements over JDBC and JAXP for handling
database queries and XML parsing.</p>

<p>Groovy removes a lot of boilerplate when dealing with SQL queries
compared to the native JDBC API:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">groovy.sql.Sql</span>
</span><span class='line'><span class="n">sql</span> <span class="o">=</span> <span class="n">Sql</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://host/db&quot;</span><span class="o">,</span> <span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="s">&quot;password&quot;</span><span class="o">,</span> <span class="s">&quot;com.mysql.jdbc.Driver&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">sql</span><span class="o">.</span><span class="na">eachRow</span><span class="o">(</span><span class="s">&quot;select * from tableName&quot;</span><span class="o">,</span> <span class="o">{</span> <span class="n">println</span> <span class="n">it</span><span class="o">.</span><span class="na">id</span> <span class="o">+</span> <span class="s">&quot; -- ${it.firstName} --&quot;</span><span class="o">}</span> <span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This code is written for a connection to a MySQL database. You will
need to adjust all the parameters to newInstance to connect to your
database, especially username and password.  Finally the third line
calls the eachRow method of sql, passing in two arguments, the first
being the query string, the second being a closure to print out some
values.  Notice that in the closure the fields of &ldquo;it&rdquo; are accessed in
two different ways. The first is as a simple field reference,
accessing the id field of it. The second is the included Groovy
expression mentioned above.</p>

<p>So the output from a row might look like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="mi">1</span> <span class="o">--</span> <span class="n">Bozhidar</span> <span class="o">--</span>
</span><span class='line'><span class="mi">2</span> <span class="o">--</span> <span class="n">Maya</span> <span class="o">--</span>
</span><span class='line'><span class="mi">3</span> <span class="o">--</span> <span class="n">Kate</span> <span class="o">--</span>
</span><span class='line'><span class="mi">4</span> <span class="o">--</span> <span class="n">Valentine</span> <span class="o">--</span>
</span></code></pre></td></tr></table></div></figure>


<p>XML processing is common enough task in computing and Groovy&rsquo;s
developers tried to make it simple and straightforward as
possible. Let&rsquo;s parse the following file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;books&gt;</span>
</span><span class='line'>    <span class="nt">&lt;book&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>Dune<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/book&gt;</span>
</span><span class='line'>    <span class="nt">&lt;book&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>Dune Messiah<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/book&gt;</span>
</span><span class='line'>    <span class="nt">&lt;book&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>Children of Dune<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;Frank&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Herbert&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/book&gt;</span>
</span><span class='line'>    <span class="nt">&lt;book&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>A Game of Thrones<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;author</span> <span class="na">firstname=</span><span class="s">&quot;George&quot;</span> <span class="na">lastname=</span><span class="s">&quot;Martin&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/book&gt;</span>
</span><span class='line'><span class="nt">&lt;/books&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>All the code we need to write is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">def</span> <span class="n">books</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlSlurper</span><span class="o">().</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;books.xml&quot;</span><span class="o">)</span>
</span><span class='line'><span class="n">books</span><span class="o">.</span><span class="na">book</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span> <span class="s">&quot;Title = ${it.title}, Author: ${it.author.@firstname} ${it.author.@lastname}&quot;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ruby and Python developers probably aren&rsquo;t particularly impressed, but
I can only imagine the look on the faces of Java developers that are
generally required to write huge amount of boilerplate code when
dealing with XML.</p>

<h2>Builders</h2>

<p>Groovy has special syntax support for List and Maps. This is great
because it gives a concise representation of the actual object being
defined, so its easier to keep track of what a program or script is
doing. But what about programs which contain arbitrary nested tree
structures. Surely, they are the hardest ones to keep track of what is
going on. Isn&rsquo;t that an area where syntactic help will be most
beneficial?</p>

<p>The answer is definitely yes and Groovy comes to the party with its
builder concept. You can use it for DOM-like APIs or Ant tasks or
Jelly tags or Swing widgets or whatever. Each may have their own
particular factory mechanism to create the tree of objects &ndash; however
they can share the same builder syntax to define them &ndash; in a concise
alternative to XML or lengthy programming code.</p>

<p>One use for builders is the generation of markup:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">groovy.xml.*</span>
</span><span class='line'>
</span><span class='line'><span class="n">def</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MarkupBuilder</span><span class="o">()</span>
</span><span class='line'><span class="n">page</span><span class="o">.</span><span class="na">html</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">head</span> <span class="o">{</span> <span class="n">title</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="o">,</span> <span class="n">Groovy</span><span class="o">!</span><span class="err">&#39;</span> <span class="o">}</span>
</span><span class='line'>    <span class="n">body</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">div</span> <span class="o">{</span>
</span><span class='line'>            <span class="mi">3</span><span class="o">.</span><span class="na">times</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">p</span> <span class="s">&quot;Groovy power!&quot;</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Result:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>  <span class="nt">&lt;head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;title&gt;</span>Hello, Groovy!<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;body&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div&gt;</span>
</span><span class='line'>      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>      <span class="nt">&lt;p&gt;</span>Groovy power!<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Builders can also be used to create Swing GUIs. Here&rsquo;s a very small example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">java.awt.FlowLayout</span>
</span><span class='line'>
</span><span class='line'><span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">groovy</span><span class="o">.</span><span class="na">swing</span><span class="o">.</span><span class="na">SwingBuilder</span><span class="o">()</span>
</span><span class='line'><span class="n">langs</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;Groovy&quot;</span><span class="o">,</span> <span class="s">&quot;Scala&quot;</span><span class="o">,</span> <span class="s">&quot;Clojure&quot;</span><span class="o">]</span>
</span><span class='line'><span class="n">gui</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">frame</span><span class="o">(</span><span class="nl">size:</span> <span class="o">[</span><span class="mi">290</span><span class="o">,</span> <span class="mi">100</span><span class="o">],</span> <span class="nl">title:</span> <span class="err">&#39;</span><span class="n">Groovy</span> <span class="n">Swing</span><span class="err">&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">panel</span><span class="o">(</span><span class="nl">layout:</span> <span class="k">new</span> <span class="n">FlowLayout</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">panel</span><span class="o">(</span><span class="nl">layout:</span> <span class="k">new</span> <span class="n">FlowLayout</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">for</span> <span class="o">(</span><span class="n">lang</span> <span class="n">in</span> <span class="n">langs</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">radioButton</span><span class="o">(</span><span class="nl">text:</span> <span class="n">lang</span><span class="o">)</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">button</span><span class="o">(</span><span class="nl">text:</span> <span class="err">&#39;</span><span class="n">Perform</span> <span class="n">Magic</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">actionPerformed:</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">builder</span><span class="o">.</span><span class="na">optionPane</span><span class="o">(</span><span class="nl">message:</span> <span class="s">&quot;Feel the power of Groovy!&quot;</span><span class="o">).</span>
</span><span class='line'>                    <span class="n">createDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">Message</span><span class="err">&#39;</span><span class="o">).</span><span class="na">show</span><span class="o">()</span>
</span><span class='line'>        <span class="o">})</span>
</span><span class='line'>        <span class="n">button</span><span class="o">(</span><span class="nl">text:</span> <span class="err">&#39;</span><span class="n">Quit</span><span class="err">&#39;</span><span class="o">,</span>
</span><span class='line'>                <span class="nl">actionPerformed:</span> <span class="o">{</span><span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">)})</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="n">gui</span><span class="o">.</span><span class="na">show</span><span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>Run the code to see the resulting GUI!</p>

<h2>Groovy tooling</h2>

<ul>
<li><p>IDE</p>

<ul>
<li><a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> &ndash; the ultimate
Groovy IDE. It&rsquo;s excellent Groovy support is part of its open
source Community Edition.</li>
<li><a href="http://groovy.codehaus.org/Eclipse+Plugin">Eclipse</a> &ndash; the most
popular Java IDE has an actively maintained Groovy plugin</li>
<li><a href="http://netbeans.org/features/groovy/">NetBeans</a> &ndash; Like IDEA
NetBeans features built-in Groovy support</li>
</ul>
</li>
<li><p>Groovy distribution</p>

<ul>
<li>groovysh &ndash; A Groovy REPL for exploratory programming</li>
<li>groovyConsole &ndash; A GUI groovy shell with extended capabilities,
that is handy for the development and testing of small Groovy scripts</li>
<li>groovyc &ndash; the Groovy compiler</li>
</ul>
</li>
<li><p>Build tools</p>

<ul>
<li><a href="http://maven.apache.org">Apache Maven</a></li>
<li><a href="http://buildr.apache.org">Apache Buildr</a></li>
<li><a href="http://gradle.org">Gradle</a></li>
</ul>
</li>
</ul>


<h2>Killer apps</h2>

<ul>
<li><a href="http://grails.org">Grails</a>

<ul>
<li>Groovy port of Ruby on Rails</li>
<li>Leverages the best Java technologies

<ul>
<li>Hibernate</li>
<li>Spring</li>
<li>Tomcat</li>
</ul>
</li>
</ul>
</li>
<li><a href="http://gradle.org">Gradle</a> &ndash; powerful build tool, considered by many vastly superior to
Maven. Several high profile projects(such as Hibernate) already
migrated their builds to Gradle.</li>
<li><a href="http://griffon.codehaus.org/">Griffon</a> &ndash; a Grails like application
framework for developing desktop applications</li>
</ul>


<h2>Common use cases</h2>

<p>Groovy is a general purpose language, but it&rsquo;s used for some tasks
more often than for others. It&rsquo;s extremely suitable for:</p>

<ul>
<li>web application development(usually with Grails)</li>
<li>scripting(although you have to factor in the cold startup time of
the JVM before you start writing all your scripts in Groovy)</li>
<li>tests development &ndash; it&rsquo;s a common practice in many Java projects to
have the tests written in Groovy</li>
<li>GUI development(usually with Griffon)</li>
<li>Rapid prototyping &ndash; you&rsquo;d do a quick app prototype in Groovy as a
proof on concept and then you&rsquo;d create a Java application based on
it</li>
<li>Exploratory programming &ndash; the groovysh is a great way to test class
capabilities, methods and ideas with almost zero overhead &ndash; no
annoying compile/run cycles to slow you down</li>
</ul>


<p>When performance is critical you&rsquo;d probably want to avoid
Groovy. According to some benchmarks around the Internet(like
<a href="http://stronglytypedblog.blogspot.com/2010/02/java-vs-scala-vs-groovy-vs-groovy.html">this one</a>)
Groovy is much slower than Java for certain tasks. I, however, haven&rsquo;t
read any new benchmarks on the subject and have no idea how reliable
the old ones are and how relevant they are to the current Groovy
version.</p>

<h2>Future prospects</h2>

<p>With so many languages being created all the time developers
naturally ask themselves the same question over and over again &ndash;
should I waste my time learning this language? Related questions seem
to be:</p>

<ul>
<li>Will it endure the test of time?</li>
<li>Does it have a vibrant and committed community around it?</li>
<li>Can I find professional support?</li>
<li>Does it integrate well with out current infrastructure?</li>
<li>Does it have good tooling?</li>
</ul>


<p>After all most of the currently popular languages like Java, C# and
PHP are nothing spectacular on their own, but have a combination of
factors that worked in their favour to get them to the top &ndash; solid
companies behind them, many deployment options and just the right
amount of beefing up/simplifying C/C++ make existing developers transition to the
new languages a relatively easy and painless experience.</p>

<p>SpringSource(the company responsible for the creation of the popular
Spring framework, now a division of VMWare) employs most of the core
Groovy developers and offers both <a href="http://www.springsource.com/developer/grails">Groovy and Grails support</a>. The fact
that a company such as this one believes in the technology is very
important whey you&rsquo;re trying to sell using Groovy in your current
company. And if you&rsquo;re existing infrastructure is built around Java &ndash;
well, you have next to nothing to worry about, except maybe will Java 7
deliver the promised speed improvement for dynamic languages
implemented on top of it.</p>

<p>Presently the Groovy community is vast and rapidly growing. The
language itself &ndash; constantly evolving.</p>

<p>NetBeans and IntelliJ have built-in Groovy support, which is a big
testament to the language&rsquo;s popularity as well.</p>

<p>In a sentence I don&rsquo;t see Groovy disappearing or dying anytime soon
even if its original creator has lost faith in it.</p>

<h2>Groovy resources</h2>

<ul>
<li>Books

<ul>
<li><a href="http://www.manning.com/koenig2/">&ldquo;Groovy in Action&rdquo;</a></li>
<li><a href="http://pragprog.com/titles/vslg/programming-groovy">&ldquo;Programming Groovy&rdquo;</a></li>
</ul>
</li>
<li>On-line resources

<ul>
<li><a href="http://groovy.codehaus.org/User+Guide">Official documentation</a></li>
</ul>
</li>
</ul>


<h2>Epilogue</h2>

<p>Groovy is a language aiming to bring dynamic productivity to Java
developer without introducing them to a steep learning curve. The
language is beautifully architectured and integrates seamlessly with
the existing Java libraries and infrastructure. My biggest gripe with
Groovy was the lack of advanced support for parallel and concurrent
programming. A few days before I wrote this article, however, Groovy
1.8.0 was released and it features the excellent library for parallel
programming <a href="http://gpars.codehaus.org/">GPars</a>. Groovy&rsquo;s performance
is not stellar at this point, but I guess
this will be improved upon in Java 7.</p>

<p>With its easy to grasp Java-like syntax Groovy is a solid contender
for the attention of Java developers. A growing number of Groovy
related job offerings is a sign of Groovy&rsquo;s acceptance as a industrial
strength tool.</p>

<p>Some people criticize Groovy for the lack of innovation and claim that
it&rsquo;s simply an amalgam of ideas borrowed from other languages. I don&rsquo;t
see nothing bad with that approach as long as the features are
tastefully combined. Groovy might not be the most elegant language out
there, but it&rsquo;s one of the most practical ones and will help you get
the job done.</p>

<hr />

<p><em>P.S. Coming up next is a discussion of the Scala programming
language.</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/articles/2011/05/03/ruby-or-python/">Ruby or Python? Well, It Depends&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-03T00:00:00+03:00" pubdate data-updated="true">May 3<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Disclaimer</strong></p>

<p><em>If you&rsquo;re looking for a flame post &ndash; this is not one of them. I love
both languages and I&rsquo;ll simply compare some of their features and
possible uses.</em></p>

<h2>Prelude</h2>

<p>Ruby or Python? This is the Question! Well it might not be the
Question, but it&rsquo;s a common question for many developers looking to
break free from the statically typed language they know and learn a
dynamic language. I personally know them both(though I know a bit more
Ruby, than Python) and in this article I&rsquo;ll share my personal opinion
on their strengths and weaknesses. You&rsquo;d probably do good to learn
them both, but my arguments here may lead you to pick only one of the
languages depending on you preferences.</p>

<h2>Installation</h2>

<p><strong>Linux/Unix installation</strong></p>

<p>If you&rsquo;re using a Linux distribution or some other Unix derivative
such as *BSD or Solaris you&rsquo;ll probably be able to install Ruby and
Python through the operating system&rsquo;s software management system. For
instance on Debian Linux systems(Ubuntu is a popular Debian
derivative) you can use apt to install them. Run the following
commands as root or with sudo:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>apt-get install ruby
</span><span class='line'><span class="nv">$ </span>apt-get install python
</span></code></pre></td></tr></table></div></figure>


<p>On Red Hat based distros like Fedora, CentOS, etc you can use yum
instead:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>yum install ruby
</span><span class='line'><span class="nv">$ </span>yum install python
</span></code></pre></td></tr></table></div></figure>


<p>You should keep in mind the fact that both Ruby and Python have two
version that are commonly used at the moment. Ruby&rsquo;s current version
is <em>1.9.2</em> and Python&rsquo;s is <em>3.2</em>. For various reasons(like backward
compatibility for instance), however, the current versions are not
widely deployed yet(especially Python 3). In most Linux distributions
the package ruby will actually be Ruby 1.8.x and the package python
will be Python 2.7.x. If your distribution is one of those &ndash; look for
packages named ruby19(or similar) and python3:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>apt-get install ruby19
</span><span class='line'><span class="nv">$ </span>apt-get install python3
</span></code></pre></td></tr></table></div></figure>


<p>or on a Red Hat system:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>yum install ruby19
</span><span class='line'><span class="nv">$ </span>yum install python3
</span></code></pre></td></tr></table></div></figure>


<p>Using the distribution package management system is a simple solution,
but in the case of Ruby it might not be best one. Most Ruby hackers
favour a powerful bash script called RVM(Ruby Version Manager) that
allows you to install several different version(or flavours of Ruby)
and switch easily between them. Please refer to the official
<a href="https://rvm.beginrescueend.com/">RVM documentation</a> for installation
and usage instructions.</p>

<p><strong>Windows installation</strong></p>

<p>Installing Ruby on Windows used to be a pretty hard task, but this is
no longer the case now thanks to
<a href="http://rubyinstaller.org/">the RubyInstaller for Windows</a>. This is a
self-contained Windows-based installer that includes the Ruby
language, an execution environment, important documentation, and
more. It has two editions one for the older 1.8.x Ruby branch and one
for the current 1.9.x.</p>

<p>Python has several installation options for Windows &ndash; the most obvious
being the
<a href="http://python.org/ftp/python/3.2/python-3.2.msi">official Python installer for Windows</a>. <a href="http://www.activestate.com/activepython">ActiveState&rsquo;s ActivePython</a>
is another popular option packed with more features, but you should
keep in mind that although the Community Edition is free ActivePython
is not an open-source project. Personally I prefer ActivePython. Other
prebuilt Python binaries for Windows are also available, but are not
commonly used.</p>

<p><strong>OS X installation</strong></p>

<p>Ruby is generally preinstalled on OSX, but OSX users can also install
it via <a href="http://mxcl.github.com/homebrew/">homebrew</a> or RVM(as mentioned in the Linux section).</p>

<p>The is an official <a href="http://python.org/ftp/python/3.2/python-3.2-macosx10.6.dmg">Python package for OSX</a> available. Most users
will probably prefer using homebrew, however.</p>

<h2>Syntax &amp; code structure</h2>

<p>Ruby makes heavy use of braces and keywords(like do/then/end) to
delimit blocks of code. Python relies simply on indentation.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">fact</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span class='line'>    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Same thing in Ruby:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">fact</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span><span class="p">)</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="ss">:*</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I personally prefer the Python approach since it enforces the code
semantics based on the code structure alone without imposing special
syntax.</p>

<p>As a side node you might take under consideration that the Ruby method
definition doesn&rsquo;t have an explicit return value. The value of the
last expression in the method&rsquo;s body becomes automatically the
method&rsquo;s return value. Lisp developers will find this familiar. Java
and C# developers will probably find it a bit confusing. There is a
<code>return</code> in Ruby, though, it&rsquo;s just rarely used.</p>

<p>Both languages have support for nested function definitions.</p>

<p>Both languages have support for &ldquo;top-level&rdquo; functions &ndash; that live(or
seem to live) outside classes and modules(something not possible in
Java for instance). This makes them good for general purpose
scripting. While I would still prefer to do my system administration
with shell and Perl scripts &ndash; Ruby and Python offer a solid
alternative. Python has a richer system administration library so I&rsquo;d
prefer it over Ruby for such tasks.</p>

<p>Ruby has a lot of crust(&ldquo;heritage&rdquo;) from Perl &ndash; like a myriad of
special variables that are now more or less deprecated. It also has
much syntactic sugar &ndash; for instance do/end is commonly replaced by {}
for blocks that are only one line long, there is special syntax for
hashtables, whose keys are symbols, etc.</p>

<p>Since special symbols(non alphanumeric) are allowed in Ruby
identifiers Ruby uses them to impose some naming conventions to make
the source code a bit more readable in certain scenarios &ndash; for
instance predicate methods(those that return true or false) have names
that end with ?(usually) like even?, odd?, prime?, etc. Methods that
mutate the object on which they were invoked generally have the !
suffix &ndash; sort!, map!, etc. I find this a nice decision. In Ruby you
generally have many ways to achieve the same result:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='irb'><span class='line'><span class="go">ruby-1.9.2-p0 &gt; 1.even?</span>
</span><span class='line'><span class="go"> =&gt; false</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; arr = [1, 2, 3]</span>
</span><span class='line'><span class="go"> =&gt; [1, 2, 3]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; arr.map { |x| x * 2 }</span>
</span><span class='line'><span class="go"> =&gt; [2, 4, 6]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; arr</span>
</span><span class='line'><span class="go"> =&gt; [1, 2, 3]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; arr.map! { |x| x * 2 }</span>
</span><span class='line'><span class="go"> =&gt; [2, 4, 6]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; arr</span>
</span><span class='line'><span class="go"> =&gt; [2, 4, 6]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; (1..5).reduce(:*)</span>
</span><span class='line'><span class="go"> =&gt; 120</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; (1..5).reduce { |x, y| x * y }</span>
</span><span class='line'><span class="go"> =&gt; 120</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; (1..5).reduce do |x, y|</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt;     x * y</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 ?&gt;  end</span>
</span><span class='line'><span class="go"> =&gt; 120</span>
</span></code></pre></td></tr></table></div></figure>


<p>No such things in Python, however. Python&rsquo;s philosophy is one of
simplicity &ndash; no excessive syntax sugar, one true way of doing things.</p>

<p>Both languages have powerful features for organising code in
libraries. I would not go into any details on the subject here, but
I&rsquo;ll share with you the fact that I like Python&rsquo;s more.</p>

<p>Both languages come with a REPL in which you can do some exploratory
programming. Ruby&rsquo;s REPL(irb)  allows you
to do TAB smart completion(amongst other things) by default. To get
TAB completion in the Python REPL you&rsquo;d have to execute this bit of
code first:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='pycon'><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">readline</span><span class="o">,</span> <span class="nn">rlcompleter</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="n">readline</span><span class="o">.</span><span class="n">parse_and_bind</span><span class="p">(</span><span class="s">&quot;tab: complete&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alternative you can just stick this code snippet in the
<strong>~/.pythonrc.py</strong> file(create it if it doesn&rsquo;t exist). If you are using
Windows adjust accordingly(you will have to figure out where
pythonrc.py is located there).</p>

<p>Ruby does not have statements &ndash; only expressions. This
basically means that everything(objects, method calls) evaluate to
some value(though the value might not be helpful always).</p>

<p>In Python there are some statements such as assignment and <em>if</em>. One
thing I dislike about the Python REPL is that it doesn&rsquo;t print None
values. Compare this bit of Python code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='pycon'><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;this is a test&quot;</span><span class="p">)</span>
</span><span class='line'><span class="go">this is a test</span>
</span></code></pre></td></tr></table></div></figure>


<p>to this Ruby snippet:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='irb'><span class='line'><span class="go">ruby-1.9.2-p0 &gt; puts &quot;this is a test&quot;</span>
</span><span class='line'><span class="go">this is a test</span>
</span><span class='line'><span class="go"> =&gt; nil</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the Python version we see only the side-effect(the printing), but
not the return value.</p>

<p>Python also ships with a minimalistic IDE called IDLE. If you don&rsquo;t
have it by default after a python installation on Linux probably
you&rsquo;re vendor decided to package IDLE as a separate package. IDLE
offers basic features like syntax highlighting, code completion and
integration with a debugger. It&rsquo;s a good tool for exploratory
programming, but I advise you to pick another tool for serious development.</p>

<h2>Naming conventions</h2>

<p>The naming conventions for both Ruby and Python are mostly the same
which is good if you&rsquo;re using them both on a daily basis &ndash; less room
for confusion.</p>

<ul>
<li>variable and method names consisting of more then one word are
written in lowercase with underscores separating the individual
words like_this.</li>
<li>Class names start with capital letter and follow the camel case
naming convention LikeThis. Some of Python&rsquo;s core classes, however,
violate this convention.</li>
<li>Constants are generally written in all caps with underscores
separating the individual words LIKE_THIS.</li>
</ul>


<p>As I mentioned earlier it&rsquo;s customary to add ? as a suffix to
predicate methods and ! to mutator methods in Ruby. This convention is
not always followed unfortunately, even in Ruby&rsquo;s standard library.</p>

<h2>OOP support</h2>

<p>Both Ruby and Python are famous members of the family of object
oriented languages. Unlike languages such as Java and C#, however,
Ruby and Python are pure OOP languages. There is no distinction
between primitive types(such as numbers, characters and booleans) and
reference types(classes). Everything in them is an object and in that
sense it&rsquo;s an instance of some class:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='pycon'><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="go">&lt;type &#39;int&#39;&gt;</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s">&quot;string&quot;</span><span class="p">)</span>
</span><span class='line'><span class="go">&lt;type &#39;str&#39;&gt;</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mf">20.07</span><span class="p">)</span>
</span><span class='line'><span class="go">&lt;type &#39;float&#39;&gt;</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</span><span class='line'><span class="go">&lt;type &#39;list&#39;&gt;</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</span><span class='line'><span class="go">&lt;type &#39;tuple&#39;&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And in Ruby:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='irb'><span class='line'><span class="go">ruby-1.9.2-p0 &gt; 10.class</span>
</span><span class='line'><span class="go"> =&gt; Fixnum</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; &quot;string&quot;.class</span>
</span><span class='line'><span class="go"> =&gt; String</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; [].class</span>
</span><span class='line'><span class="go"> =&gt; Array</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see core Ruby classes tend to have a bit more standard and
descriptive names than their Python counterparts. You can also notice
that in Python for some task we use built-in functions like type,
instead of method calls. The built-in function will eventually result
in a method invocation(like &ldquo;string&rdquo;.<strong>class</strong> in the case of
type(&ldquo;string&rdquo;)), but I find this irregularity in the syntax a bit
irritating.</p>

<p>Method invocation is more flexible in Ruby &ndash; you can omit braces in
some scenarios. This is handy when you&rsquo;re designing a DSL or you&rsquo;re
trying to implement the uniform access patterns(data should be
accessed through fields and methods in the same manner(read this as
with no braces in method invocations)). On the other hand Python&rsquo;s
uniform syntax makes it easier to spot method invocations.</p>

<p>Both languages don&rsquo;t have operators &ndash; just methods. Ruby&rsquo;s OO support
seems to be a bit more mature and polished(at least to me), but
Python&rsquo;s has some touches as well. I particularly like the explicit
self references that are required when you try to access class
members. I&rsquo;m not too found of the use of special sigils in Ruby to
mark instance(@) and class members(@@). Though they make them visually
distinctive I think we could have lived without them &ndash; I&rsquo;m generally
not a fan of non-uniform syntax rules(and you guessed it &ndash; my
favourite language is Lisp).</p>

<p>Ruby&rsquo;s metaprogramming model arguably gives it an edge in the OOP
department, but I won&rsquo;t be discussing the metaprogramming issues here
since they are quite lengthy.</p>

<h2>Functional programming support</h2>

<p>Functional programming has been on the rise lately and it&rsquo;s useful to
examine what kind of support both languages provide for it. Both have
support for lambda functions and respectively &ndash; higher-order
functions(functions that accept functions as parameters). Ruby has
code blocks, Python has list comprehensions(generally favoured over
higher-order functions). Both languages lack in their standard libs
the immutable data structures that generally are the code of most
functional programming languages. Here&rsquo;s a few example related to
filtering a sequence based on some predicate:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='pycon'><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
</span><span class='line'><span class="go">[2, 4, 6, 8, 10]</span>
</span><span class='line'><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</span><span class='line'><span class="go">[2, 4, 6, 8, 10]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ruby:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='irb'><span class='line'><span class="go">ruby-1.9.2-p0 &gt; (1..10).select { |x| x.even? }</span>
</span><span class='line'><span class="go"> =&gt; [2, 4, 6, 8, 10]</span>
</span><span class='line'><span class="go">ruby-1.9.2-p0 &gt; (1..10).select &amp;:even?</span>
</span><span class='line'><span class="go"> =&gt; [2, 4, 6, 8, 10]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ruby&rsquo;s functional programming support seems to be better to me, but
this is of course subjective.</p>

<h2>GUI programming</h2>

<p>Python has tkinker by default &ndash; a wrapper around the Tk library(which
sucks in my humble opinion). Ruby doesn&rsquo;t have even this much. Both
have binding for the popular GUI toolkits such wxwidgets, GTK,
QT. From my experimentation with them I can tell you that you&rsquo;ll be
much better off with Python in that department. It&rsquo;s not wonder that
many GTK+ applications these days are implemented in Python. Most Ruby
bindings projects seem to be in a state of disarray, abandonment &ndash; I
guess we have to thank Rails for that. Most people think of Rails as
the only use of Ruby which is sad&hellip;</p>

<p>Ruby devs shouldn&rsquo;t despair however. JRuby(Ruby&rsquo;s port to the JVM) has
an excellent support for the superb Swing GUI framework and MacRuby
has great support for building Cocoa Apps for OS X. I personally think
that JRuby is the best Ruby distribution out there, but that&rsquo;s the
point of another post entirely.</p>

<h2>3rd party library availability and installation</h2>

<p>It&rsquo;s not secret that part of Python&rsquo;s philosophy is that it comes with
batteries included &ndash; meaning that it&rsquo;s standard library is vast and
covers a lot of common tasks. In case you can&rsquo;t find what you&rsquo;re
looking for in it you&rsquo;re left with an number of third party libraries
for Python whose number can only be described by the word epic and
that cover every task conceivable. <a href="http://pypi.python.org/pypi">PyPi</a>
maintains an up-to-date list of Python packages.</p>

<p>You have several options in the department of python package
management. If you&rsquo;re using ActivePython you can use the excellent
<a href="http://code.activestate.com/pypm/">PyPM</a> tool, which provides quick
installation of thousands of packages for many Python versions and
platforms for ActivePython distributions.</p>

<p><a href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a> is another popular solution that works with the standard
Python distribution. Like PyPM it allows you easily search for and
install Python packages from the PyPI that are bundled in Python&rsquo;s
standard egg format(Jave developers might think of eggs as
jars). EasyInstall has splendid documentation so I won&rsquo;t go into any
details here.</p>

<p><a href="http://www.pip-installer.org/en/latest/index.html">pip</a> is a
replacement for easy_install. It uses mostly the same techniques for
finding packages, so packages that were made easy_installable should
be pip-installable as well.</p>

<p>pip is meant to improve on EasyInstall. Some of the improvements:</p>

<ul>
<li>All packages are downloaded before installation. Partially-completed installation doesnt occur as a result.</li>
<li>Care is taken to present useful output on the console.</li>
<li>The reasons for actions are kept track of. For instance, if a package is being installed, pip keeps track of why that package was required.</li>
<li>Error messages should be useful.</li>
<li>The code is relatively concise and cohesive, making it easier to use programmatically.</li>
<li>Packages dont have to be installed as egg archives, they can be installed flat (while keeping the egg metadata).</li>
<li>Native support for other version control systems (Git, Mercurial and Bazaar)</li>
<li>Uninstallation of packages.</li>
<li>Simple to define fixed sets of requirements and reliably reproduce a set of packages.</li>
</ul>


<p>pip doesnt do everything that easy_install does. Specifically:</p>

<ul>
<li>It cannot install from eggs. It only installs from source. (In the future it would be good if it could install binaries from Windows .exe or .msi  binary install on other platforms is not a priority.)</li>
<li>It doesnt understand Setuptools extras (like package[test]). This should be added eventually.</li>
<li>It is incompatible with some packages that extensively customize distutils or setuptools in their setup.py files.</li>
</ul>


<p>Linux users will also find a great selection of Python libraries
prepackaged for use with the distribution&rsquo;s package manager.</p>

<p>Ruby has an application that is more or less equivalent to EasyInstall
called <a href="http://rubygems.org/">RubyGems</a>(gems are the standard way to distribute Ruby
libraries). Linux users can of course install Ruby libraries with the
distribution&rsquo;s package manager as well.</p>

<p>RubyGems has the following features:</p>

<ul>
<li>Easy Installation and removal of RubyGems packages and their dependents.</li>
<li>Management and control of local packages</li>
<li>Package dependency management</li>
<li>Query, search and list local and remote packages</li>
<li>Multiple version support for installed packages</li>
<li>Web-based interface to view the documentation for your installed gems</li>
<li>Easy to use interface for building gem packages</li>
<li>Simple server for distributing your own gem packages</li>
<li>Easy to use building and publishing of gem packages</li>
</ul>


<p>Using RubyGems, you can:</p>

<ul>
<li>download and install Ruby libraries easily</li>
<li>not worry about libraries A and B depending on different versions of library C</li>
<li>easily remove libraries you no longer use</li>
<li>have power and control over your Ruby platform!</li>
</ul>


<p>A reader pointed out that about 23000 packages are available for
installation through RubyGems and 15000 through PyPI. This, however,
cannot be considered as a certain sign that there are more libraries
available for Ruby than for Python.</p>

<p>Although tools like EasyInstall and RubyGems are easy to use and quite
handy, I as a long-time Linux users dislike them a bit, since they
circumvent the distributions native package handling. Unfortunately
package maintainers cannot find the time to package every Python and
Ruby library available so I guess EasyInstall and RubyGems won&rsquo;t be
going anywhere soon and of course we have to consider Windows users
for whom such applications are of great value given the lack of
unified package management on Windows.</p>

<p>One thing to keep in mind about installing eggs and gems is that some
of them are implemented in C(usually for performance reasons) and are
locally built prior to their installation &ndash; an operation bound to fail
if you don&rsquo;t have a C compiler installed.</p>

<h2>Misc</h2>

<p>In terms of performance of the default interpreters CPython and MRI
Ruby Python is the clear winner. One should note, however, is that there
are many how quality implementation of Ruby and Python for different
platforms where the performance situation differs wildly. For instance
Jython is much slower that JRuby. With the addition of invoke_dynamic
in JDK7(basically bytecode level support for dynamic method dispatch)
the performance of JRuby and Jython could potentially be improved
greatly.</p>

<p>In terms of overall usage, market share, job offers and sheer size of
the community and available libraries Python is ahead of Ruby as
well. One of the main supporters of Python is after all none other
than the mighty Google. Ruby has also the unfortunate luck to be
living in the shadow of a single application written in Ruby &ndash; Ruby on
Rails, that is arguably more popular than the language itself.</p>

<p>Tooling for dynamic languages is currently not as advance as the one
for static languages. People often joke that Python(Ruby) > Java(C#),
but Python + any python IDE &lt; Java + IntelliJ
IDEA(Eclipse/NetBeans). Python and Ruby IDEs seem to be mostly on par
currently. I do all of my Ruby and Python coding in Emacs, but I do
like RubyMine and PyCharm.</p>

<p>Since they are often used for the creation of webapps one should
consider the deployment issue. Most web hosting companies provide
cheap Python hosting, but very few companies provide Ruby hosting.</p>

<h2>The Python 3 problem</h2>

<p>Python 3 was a great undertaking that improved on a lot of aspects of
the language(for example Unicode support) and the standard library. To
do this it dropped backward compatibility, an act that slowed it&rsquo;s
adoption immensely. Three years have passed since it&rsquo;s release and
still most hosting providers, Linux distros and Python projects hold
on to the older 2.7.x Python branch.</p>

<p>This is a bit of tragedy since Python 3 is truly a great improvement
over Python 2. I mention this because most recent books are written
with Python 3 in mind, but if you land a Python jobs somewhere chances
are you&rsquo;ll have to use Python 2.x.x for the foreseeable future.</p>

<h2>Epilogue</h2>

<p>Ruby and Python are two beautifully engineered languages capable of
just about everything. If you don&rsquo;t know any of them you&rsquo;ll do well to
learn at least one. If you know only one it might not be a terrible
idea to learn the other.</p>

<p>I haven&rsquo;t touched on many language features(like Python generators and
Ruby mixins), but to be honest I&rsquo;m just tired of typing. One good
place to start your journey to Python is
<a href="http://diveintopython3.org/">&ldquo;Dive into Python 3&rdquo;</a>. For Ruby
beginners I&rsquo;d recommend a copy of
<a href="http://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177">&ldquo;The Ruby Programming Language&rdquo;</a>.</p>

<p><em>P.S. If you like exploring different programming languages and you&rsquo;re
currently shopping for ideas on the subject of which language to learn
next you might find my recent article
<a href="/blog/2011/04/27/programming-languages-worth-learning/">&ldquo;Programming languages worth learning&rdquo;</a>
interesting as well.</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/articles/2011/04/30/parsing-numbers-from-string-in-lisp/">Parsing Numbers From String in Common Lisp</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-30T00:00:00+03:00" pubdate data-updated="true">Apr 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One task that often recurs in programming is the need to parse a
string representation a number(or several numbers) and convert it to
its numeric value. Parsing integer value in Common Lisp is fairly
straightforward process &ndash; we have the built-in function <strong>PARSE-INTEGER</strong>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">parse-integer</span> <span class="s">&quot;100&quot;</span><span class="p">)</span> <span class="c1">;; =&gt; 100</span>
</span><span class='line'><span class="p">(</span><span class="nb">parse-integer</span> <span class="s">&quot;100&quot;</span> <span class="ss">:radix</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">;; =&gt; 4</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see the function allows you to parse a string
representation of a number in an arbitrary base system(the default is
the <em>decimal</em>). With the keyword argument <strong>:radix</strong> you can specify a
base in the interval 2-36. The function has a few other fancy
capabilities as well &ndash; like the ability to process only a part of the
string that has been passed to it and to ignore junk in the input
string. For all the gory details refer to the
<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_parse_.htm">Lisp HyperSpec</a>.</p>

<p>The problem that most Lisper face soon after is that there is no
matching function PARSE-FLOAT or PARSE-DOUBLE. I&rsquo;m not sure what
technical reason is hidden beneath this design decision, but I know of
simple way to parse floating point numbers non-the-less. It&rsquo;s built
around the <strong>READ</strong>(The R in REPL) function that allows you read any
S-expression from a string form. The READ function then returns a Lisp
object corresponding to the S-expression read. With that knowledge and
the fact that READ accepts as an optional argument an input stream
from which to read that S-expression(the default is the the standard
input) we can write the following bit of parsing code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">with-input-from-string</span> <span class="p">(</span><span class="nv">in</span> <span class="s">&quot;3.14&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">read</span> <span class="nv">in</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here we created an input stream that&rsquo;s bound to the string &ldquo;3.14&rdquo; and
read one S-expression from it &ndash; the floating point object 3.14.</p>

<p>We can even build a more general solution that parses several numbers
in a string, regardless of their actual type(integer or floating
point):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">with-input-from-string</span> <span class="p">(</span><span class="nv">in</span> <span class="s">&quot;3.14 5.646 4 9.6&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">x</span> <span class="nb">=</span> <span class="p">(</span><span class="nb">read</span> <span class="nv">in</span> <span class="no">nil</span> <span class="no">nil</span><span class="p">)</span> <span class="nv">while</span> <span class="nv">x</span> <span class="nv">collect</span> <span class="nv">x</span><span class="p">))</span>
</span><span class='line'><span class="c1">;; =&gt; (3.14 5.646 4 9.6)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hopefully this short article has been helpful. You&rsquo;ve also witnessed
one of the practical benefits of having the code in Lisp represented
as data.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/articles/2011/04/29/one-shell-to-rule-them-all/">One Shell to Rule Them All&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-29T00:00:00+03:00" pubdate data-updated="true">Apr 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Prelude</h2>

<p>I&rsquo;ve been using zsh for about three years now and continue to be
impressed the its immense power and flexibility. Switching from bash
to zsh was a decision as good as switching from Windows to GNU/Linux,
from vim to Emacs, from Eclipse to IntelliJ IDEA. In other words &ndash; it
was an extremely good decision. :&ndash;)</p>

<p>So I want to finally get the word out, showcase some nice zsh features
and probably persuade a couple of bash users to try it. Be warned,
however &ndash; after you try it there is no going back&hellip;</p>

<h2>Getting started</h2>

<p>Most distros come with bash by default so you&rsquo;ll probably need to
install zsh first and configure it as your user&rsquo;s shell. On Fedora
you&rsquo;d do:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo yum install zsh
</span><span class='line'><span class="nv">$ </span>chsh -s /bin/zsh
</span></code></pre></td></tr></table></div></figure>


<p>The next time you login a terminal wizard with start up asking you
about some basic zsh options that you might want to enable. I suggest
you to enable them all except the beep option. In the end the wizard
will save the new configuration to the file .zshrc in your user&rsquo;s home
folder.</p>

<p>Alternatively you may just use a preconfigured .zshrc, like this one:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Lines configured by zsh-newuser-install</span>
</span><span class='line'><span class="nv">HISTFILE</span><span class="o">=</span>~/.histfile
</span><span class='line'><span class="nv">HISTSIZE</span><span class="o">=</span>1000
</span><span class='line'><span class="nv">SAVEHIST</span><span class="o">=</span>1000
</span><span class='line'>setopt appendhistory autocd extendedglob nomatch notify correct_all
</span><span class='line'>unsetopt beep
</span><span class='line'>bindkey -e
</span><span class='line'><span class="c"># End of lines configured by zsh-newuser-install</span>
</span><span class='line'><span class="c"># The following lines were added by compinstall</span>
</span><span class='line'>zstyle :compinstall filename <span class="s1">&#39;/home/bozhidar/.zshrc&#39;</span>
</span><span class='line'>
</span><span class='line'>autoload -Uz compinit
</span><span class='line'>compinit
</span><span class='line'><span class="c"># End of lines added by compinstall</span>
</span></code></pre></td></tr></table></div></figure>


<p>I don&rsquo;t like very much the default zsh prompt and I generally change
it right away. Have a look at my other
<a href="/Z%20Shell/Linux/2008/07/27/zsh-prompt.html">short article</a> on the topic.</p>

<p>There a couple of configuration files related to zsh that you should
know about:</p>

<ul>
<li>.zshrc &ndash; runs for each new shell(roughly equivalent to .bashrc)</li>
<li>.zprofile &ndash; runs only for login shells(like .bash_profile)</li>
<li>.zlogout &ndash; runs on logout</li>
<li>.zshenv &ndash; holds environmental variables</li>
</ul>


<p>Here&rsquo;s an example .zshenv file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/java/latest
</span><span class='line'>
</span><span class='line'><span class="nb">export </span><span class="nv">SCALA_HOME</span><span class="o">=</span>/opt/scala-2.8.1.final
</span><span class='line'>
</span><span class='line'><span class="nb">export </span><span class="nv">M2_HOME</span><span class="o">=</span>/opt/apache-maven-3.0.2
</span><span class='line'>
</span><span class='line'><span class="nb">export </span><span class="nv">EDITOR</span><span class="o">=</span><span class="s2">&quot;emacsclient -t&quot;</span>
</span><span class='line'><span class="nb">export </span><span class="nv">ALTERNATE_EDITOR</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c">#needed to properly display complex color-themes in Emacs and vim</span>
</span><span class='line'><span class="nb">export </span><span class="nv">TERM</span><span class="o">=</span>xterm-256color
</span><span class='line'>
</span><span class='line'><span class="nb">typeset</span> -U path
</span><span class='line'><span class="nv">path</span><span class="o">=(</span><span class="nv">$M2_HOME</span>/bin <span class="nv">$SCALA_HOME</span>/bin ~/bin ~/Projects/work/bin <span class="nv">$path</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Please note the way in which the PATH variable is set in zsh, which
differs substantially from bash(it&rsquo;s just exported there as any other variable).</p>

<h2>Playing around</h2>

<p>At this point you have the legendary zsh autocompletion configured and
you have enabled many of the zsh core features.</p>

<p><strong>autocd</strong> allows you to navigate to folders only with their name
without the cd command. One of my favourite features. Now you can do
things like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar ~<span class="o">]</span><span class="nv">$ </span>Downloads
</span><span class='line'><span class="o">[</span>bozhidar@bozhidar ~/Downloads<span class="o">]</span><span class="err">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instead of:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar ~<span class="o">]</span><span class="nv">$ </span><span class="nb">cd </span>Downloads
</span><span class='line'><span class="o">[</span>bozhidar@bozhidar ~/Downloads<span class="o">]</span><span class="err">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>By the way autocd was added in bash 4.0 as well. You can enable it there with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar ~<span class="o">]</span><span class="nv">$ </span><span class="nb">shopt</span> -s autocd
</span></code></pre></td></tr></table></div></figure>


<p><strong>appendhistory</strong> all your open shells share the same history which is
handy if you want to refer commands from one shell in another with
say Ctrl+R(reverse-history-search)</p>

<p><strong>extendedglob</strong> allows you to recursive look for files in folders:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar ~<span class="o">]</span><span class="nv">$ </span>ls somedir/**/Makefile
</span></code></pre></td></tr></table></div></figure>


<p>is equivalent to:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar ~<span class="o">]</span><span class="nv">$ </span>find somedir -name Makefile
</span></code></pre></td></tr></table></div></figure>


<p>Most zsh users never use find for simple file look up. This feature
was also added to bash 4.0 but it works in a slightly different
manner.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">shopt</span> -s extglob
</span></code></pre></td></tr></table></div></figure>


<p><strong>correct</strong> &ndash; autocorrects mistyped commands</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>bozhidar@bozhidar<span class="o">]</span><span class="nv">$ </span>cta ~/.zshrc
</span><span class='line'>zsh: correct <span class="s1">&#39;cta&#39;</span> to <span class="s1">&#39;cat&#39;</span> <span class="o">[</span>nyae<span class="o">]</span>?
</span></code></pre></td></tr></table></div></figure>


<h2>Keybindings</h2>

<p>By default zsh uses Emacs keybindings which is perfect for a long time
Emacs user like me. zsh doesn&rsquo;t use readline, instead it has its own
line editing library called zle, which is much more powerful. vi users
are not forgotten and can switch zsh to vi keybindings with the
command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bindkey -v
</span></code></pre></td></tr></table></div></figure>


<p>Mind that by default you&rsquo;ll be in &ldquo;insert&rdquo; mode and have to press ESC
to go into command mode.</p>

<p>You can also create custom keybindings like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bindkey <span class="s1">&#39;^[[H&#39;</span> beginning-of-line
</span><span class='line'>bindkey <span class="s1">&#39;^[[F&#39;</span> end-of-line
</span></code></pre></td></tr></table></div></figure>


<p>This will bind the Home and End keys to the commands beginning-of-line and end-of-line.</p>

<h2>Aliases</h2>

<p>Zsh has three different kinds of shell aliases.</p>

<p><strong>Regular</strong> &ndash; same as in bash:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias </span><span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -l&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Suffix</strong> &ndash; suffix aliases are supported in zsh since version
4.2.0. Some examples:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias</span> -s <span class="nv">tex</span><span class="o">=</span>emacs
</span><span class='line'><span class="nb">alias</span> -s <span class="nv">html</span><span class="o">=</span>google-chrome
</span></code></pre></td></tr></table></div></figure>


<p>Now when you type in the console</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>somefile.tex
</span></code></pre></td></tr></table></div></figure>


<p>it will be opened automatically with Emacs. Similarly somefile.html
would be opened by google-chrome. As you might imagine this feature is
quite handy.</p>

<p><strong>Global</strong> &ndash; global aliases can be used anywhere in the command line(as
opposed to regular aliases that can used only in the beginning). Example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias</span> -g ...<span class="o">=</span><span class="s1">&#39;../..&#39;</span>
</span><span class='line'><span class="nb">cd</span> ...
</span></code></pre></td></tr></table></div></figure>


<h2>Some tips and tricks</h2>

<ul>
<li><p>press Alt+q in the middle of a command you&rsquo;re typing. This will clear
the console prompt and allow you execute another command(like a man lookup). Afterwards
the things you&rsquo;ve typed before the Alt+q will magically reappear.</p></li>
<li><p>Imagine you&rsquo;re in the folder <strong>project/4.0/module</strong>. Typing:</p></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd </span>4.0 5.0
</span></code></pre></td></tr></table></div></figure>


<p>Will take you to a folder named project/5.0/module(assuming that it exists of course). In general
the command has the format <code>cd old new</code>.</p>

<ul>
<li>zsh comes with a built-in pager(similar to less). To try it just type &lt;somefilename. This is
more or less equivalent to typing <code>less somefilename</code>.</li>
</ul>


<h2>Useful resources</h2>

<ul>
<li><a href="http://www.bash2zsh.com/zsh_refcard/refcard.pdf">zsh reference card</a></li>
<li><a href="http://zsh.sourceforge.net/Doc/zsh_a4.pdf">zsh manual</a></li>
<li><a href="http://zsh.sourceforge.net/Guide/zshguide.html">&ldquo;A User&rsquo;s Guide to Z-Shell&rdquo;</a></li>
<li><a href="http://zshwiki.org/home/">zsh wiki</a></li>
<li><a href="http://grml.org/zsh/zsh-lovers.html">zsh lovers</a> &ndash; collection of
tips and tricks</li>
<li><a href="http://www.bash2zsh.com/">&ldquo;From Bash to Z Shell &ndash; Conquering the Command Line&rdquo;</a></li>
</ul>


<h2>Epilogue</h2>

<p>There is no easy way to sum up everything that makes zsh great in a single blog post. I&rsquo;ll try to
expand and improve it in time. I hope I&rsquo;ve whetted your appetite to try out zsh. If you like it
well enough(of which I&rsquo;m most certain you should have a look at the resources in the end as well).</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/articles/page/22/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/articles/page/20/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Bozhidar</h1>
  <p>My name is Bozhidar Batsov and I&#8217;m a Ruby/Clojure/Emacs hacker
  from Sofia, Bulgaria. I love building neat stuff. In the Source I trust!</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/articles/2015/06/16/cider-0-dot-9/">CIDER 0.9</a>
      </li>
    
      <li class="post">
        <a href="/articles/2015/03/29/projectile-0-dot-12-released/">Projectile 0.12 Released</a>
      </li>
    
      <li class="post">
        <a href="/articles/2015/02/15/octopress-3-dot-0/">Octopress 3.0</a>
      </li>
    
      <li class="post">
        <a href="/articles/2014/12/04/introducing-inf-clojure-a-better-basic-clojure-repl-for-emacs/">Introducing Inf-clojure - a Better Basic Clojure REPL for Emacs</a>
      </li>
    
      <li class="post">
        <a href="/articles/2014/11/15/a-cider-unsession-at-clojure-slash-conj/">A CIDER Unsession at Clojure/conj</a>
      </li>
    
  </ul>
</section>

<section>
     <h1>Twitter</h1>
     <!-- PASTE THE WIDGET CODE HERE -->
     <a class="twitter-timeline" href="https://twitter.com/bbatsov" data-widget-id="382536919663386624">Tweets by @bbatsov</a>
     <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
 </section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/bbatsov">@bbatsov</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'bbatsov',
            count: 8,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/108153044872779739189?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Bozhidar Batsov -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'batsov';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
